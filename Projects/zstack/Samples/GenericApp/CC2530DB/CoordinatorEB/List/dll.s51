///////////////////////////////////////////////////////////////////////////////
//
// IAR C/C++ Compiler V9.30.3.3983 for 8051               03/May/2017  09:23:45
// Copyright 2004-2016 IAR Systems AB.
// Evaluation license - IAR Embedded Workbench for 8051, Evaluation version 9.30
//
//    Core               =  plain
//    Code model         =  banked
//    Data model         =  large
//    Calling convention =  xdata reentrant
//    Constant location  =  data_rom
//    Dptr setup         =  1,16
//                          
//    Source file        =  
//        C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Components\dll\src\dll.c
//    Command line       =  
//        -f "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
//        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
//        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
//        -DZDO_COORDINATOR -DRTR_NWK) -f "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
//        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
//        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0x0422
//        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
//        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
//        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
//        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
//        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
//        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
//        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
//        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
//        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
//        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
//        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
//        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)
//        -DREJOIN_POLL_RATE=440 "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Components\dll\src\dll.c" -D ZTOOL_P1 -D
//        MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -lC
//        "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
//        -lA "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
//        --diag_suppress Pe001,Pa010 -o "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\Obj"
//        -e --no_code_motion --debug --core=plain --dptr=16,1
//        --data_model=large --code_model=banked
//        --calling_convention=xdata_reentrant --place_constants=data_rom
//        --nr_virtual_regs 16 -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\Source\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\ZMain\TI2530DB\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\include\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\include\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mt\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\osal\include\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\saddr\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\sdata\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\af\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sec\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sys\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
//        -I "C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\dll\"
//        -Ohz --require_prototypes
//    List file          =  
//        C:\Users\ljuic\Desktop\New
//        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List\dll.s51
//
///////////////////////////////////////////////////////////////////////////////

        NAME dll

        RTMODEL "__SystemLibrary", "CLib"
        RTMODEL "__calling_convention", "xdata_reentrant"
        RTMODEL "__code_model", "banked"
        RTMODEL "__core", "plain"
        RTMODEL "__data_model", "large"
        RTMODEL "__dptr_size", "16"
        RTMODEL "__extended_stack", "disabled"
        RTMODEL "__iar_require _formatted_read", "assign_suppressions,scansets"
        RTMODEL "__location_for_constants", "data"
        RTMODEL "__number_of_dptrs", "1"
        RTMODEL "__rt_version", "1"

        RSEG DOVERLAY:DATA:NOROOT(0)
        RSEG IOVERLAY:IDATA:NOROOT(0)
        RSEG ISTACK:IDATA:NOROOT(0)
        RSEG PSTACK:XDATA:NOROOT(0)
        RSEG XSTACK:XDATA:NOROOT(0)

        EXTERN ?V0
        EXTERN ?V1
        EXTERN ?V2
        EXTERN ?V3
        EXTERN ?V4
        EXTERN ?V5
        EXTERN ?V6
        EXTERN ?V7
        EXTERN ?ALLOC_XSTACK8
        EXTERN ?BANKED_ENTER_XDATA
        EXTERN ?BANKED_LEAVE_XDATA
        EXTERN ?BDISPATCH
        EXTERN ?BRET
        EXTERN ?CALL_IND
        EXTERN ?DEALLOC_XSTACK8
        EXTERN ?L_MOV_X
        EXTERN ?MOVE_LONG8_XDATA_XDATA
        EXTERN ?PUSH_XSTACK8_X
        EXTERN ?PUSH_XSTACK_I_TWO
        EXTERN ?XLOAD_R4567
        EXTERN ?XSP
        EXTERN ?XSTACK_DISP0_8
        EXTERN ?XSTACK_DISP100_8
        EXTERN ?XSTACK_DISP102_8
        EXTERN ?XSTORE_R4567
        EXTERN __INIT_XDATA_Z

        PUBLIC `??CallBackRegister::?relay`
        FUNCTION `??CallBackRegister::?relay`,0203H
        PUBLIC `??dllDataRequest::?relay`
        FUNCTION `??dllDataRequest::?relay`,0203H
        PUBLIC `??dllInit::?relay`
        FUNCTION `??dllInit::?relay`,0203H
        FUNCTION `??packFrameToStell::?relay`,0203H
        PUBLIC `??processFrameRx::?relay`
        FUNCTION `??processFrameRx::?relay`,0203H
        PUBLIC CallBackRegister
        FUNCTION CallBackRegister,0203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC cTxBufferCC2530
        PUBLIC dllDataRequest
        FUNCTION dllDataRequest,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 28, STACK
        PUBLIC dllInit
        FUNCTION dllInit,021203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME ISTACK, 2, STACK
        PUBLIC emFlagCC2530
        FUNCTION packFrameToStell,080203H
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        LOCFRAME ISTACK, 1, STACK
        LOCFRAME XSTACK, 24, STACK
        PUBLIC processFrameRx
        FUNCTION processFrameRx,0a1203H
        ARGFRAME XSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        PUBLIC recPack
        PUBLIC rxBufferCC2530
        PUBLIC rxBufferCC2530Index
        PUBLIC rxBufferPC
        PUBLIC stateCC2530
        PUBLIC tmpCC2530
        PUBLIC txBufferCC2530Index
        PUBLIC uiRxBufferCC2530
        PUBLIC uiTxBufferCC2530
        
          CFI Names cfiNames0
          CFI StackFrame CFA_SP SP IDATA
          CFI StackFrame CFA_PSP16 PSP16 XDATA
          CFI StackFrame CFA_XSP16 XSP16 XDATA
          CFI StaticOverlayFrame CFA_IOVERLAY IOVERLAY
          CFI StaticOverlayFrame CFA_DOVERLAY DOVERLAY
          CFI Resource `PSW.CY`:1, `B.BR0`:1, `B.BR1`:1, `B.BR2`:1, `B.BR3`:1
          CFI Resource `B.BR4`:1, `B.BR5`:1, `B.BR6`:1, `B.BR7`:1, `VB.BR8`:1
          CFI Resource `VB.BR9`:1, `VB.BR10`:1, `VB.BR11`:1, `VB.BR12`:1
          CFI Resource `VB.BR13`:1, `VB.BR14`:1, `VB.BR15`:1, VB:8, B:8, A:8
          CFI Resource PSW:8, DPL0:8, DPH0:8, R0:8, R1:8, R2:8, R3:8, R4:8, R5:8
          CFI Resource R6:8, R7:8, V0:8, V1:8, V2:8, V3:8, V4:8, V5:8, V6:8, V7:8
          CFI Resource V8:8, V9:8, V10:8, V11:8, V12:8, V13:8, V14:8, V15:8, SP:8
          CFI Resource PSPH:8, PSPL:8, PSP16:16, XSPH:8, XSPL:8, XSP16:16
          CFI VirtualResource ?RET:24
          CFI Resource ?BRET_EXT:8
          CFI VirtualResource ?RET_HIGH:8, ?RET_LOW:8
          CFI ResourceParts PSP16 PSPH, PSPL
          CFI ResourceParts XSP16 XSPH, XSPL
          CFI ResourceParts ?RET ?BRET_EXT, ?RET_HIGH, ?RET_LOW
          CFI EndNames cfiNames0
        
          CFI Common cfiCommon0 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-3
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B Undefined
          CFI A Undefined
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 Undefined
          CFI R1 Undefined
          CFI R2 Undefined
          CFI R3 Undefined
          CFI R4 Undefined
          CFI R5 Undefined
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT Frame(CFA_SP, 3)
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon0
        
        
          CFI Common cfiCommon1 Using cfiNames0
          CFI CodeAlign 1
          CFI DataAlign -1
          CFI ReturnAddress ?RET CODE
          CFI CFA_DOVERLAY Used
          CFI CFA_IOVERLAY Used
          CFI CFA_SP SP+-2
          CFI CFA_PSP16 PSP16+0
          CFI CFA_XSP16 XSP16+0
          CFI `PSW.CY` SameValue
          CFI `B.BR0` SameValue
          CFI `B.BR1` SameValue
          CFI `B.BR2` SameValue
          CFI `B.BR3` SameValue
          CFI `B.BR4` SameValue
          CFI `B.BR5` SameValue
          CFI `B.BR6` SameValue
          CFI `B.BR7` SameValue
          CFI `VB.BR8` SameValue
          CFI `VB.BR9` SameValue
          CFI `VB.BR10` SameValue
          CFI `VB.BR11` SameValue
          CFI `VB.BR12` SameValue
          CFI `VB.BR13` SameValue
          CFI `VB.BR14` SameValue
          CFI `VB.BR15` SameValue
          CFI VB SameValue
          CFI B SameValue
          CFI A SameValue
          CFI PSW SameValue
          CFI DPL0 SameValue
          CFI DPH0 SameValue
          CFI R0 SameValue
          CFI R1 SameValue
          CFI R2 SameValue
          CFI R3 SameValue
          CFI R4 SameValue
          CFI R5 SameValue
          CFI R6 SameValue
          CFI R7 SameValue
          CFI V0 SameValue
          CFI V1 SameValue
          CFI V2 SameValue
          CFI V3 SameValue
          CFI V4 SameValue
          CFI V5 SameValue
          CFI V6 SameValue
          CFI V7 SameValue
          CFI V8 SameValue
          CFI V9 SameValue
          CFI V10 SameValue
          CFI V11 SameValue
          CFI V12 SameValue
          CFI V13 SameValue
          CFI V14 SameValue
          CFI V15 SameValue
          CFI PSPH Undefined
          CFI PSPL Undefined
          CFI XSPH Undefined
          CFI XSPL Undefined
          CFI ?RET Concat
          CFI ?BRET_EXT SameValue
          CFI ?RET_HIGH Frame(CFA_SP, 2)
          CFI ?RET_LOW Frame(CFA_SP, 1)
          CFI EndCommon cfiCommon1
        
HalLcdWriteString   SYMBOL "HalLcdWriteString"
`??HalLcdWriteString::?relay` SYMBOL "?relay", HalLcdWriteString
circularInit        SYMBOL "circularInit"
`??circularInit::?relay` SYMBOL "?relay", circularInit
sscanf              SYMBOL "sscanf"
`??sscanf::?relay`  SYMBOL "?relay", sscanf
CallBackRegister    SYMBOL "CallBackRegister"
`??CallBackRegister::?relay` SYMBOL "?relay", CallBackRegister
dllDataRequest      SYMBOL "dllDataRequest"
`??dllDataRequest::?relay` SYMBOL "?relay", dllDataRequest
dllInit             SYMBOL "dllInit"
`??dllInit::?relay` SYMBOL "?relay", dllInit
processFrameRx      SYMBOL "processFrameRx"
`??processFrameRx::?relay` SYMBOL "?relay", processFrameRx

        EXTERN `??HalLcdWriteString::?relay`
        FUNCTION `??HalLcdWriteString::?relay`,00H
        EXTERN `??circularInit::?relay`
        FUNCTION `??circularInit::?relay`,00H
        EXTERN `??sscanf::?relay`
        FUNCTION `??sscanf::?relay`,00H
        EXTERN HalLcdWriteString
        FUNCTION HalLcdWriteString,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN circularInit
        FUNCTION circularInit,0202H
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        EXTERN sscanf
        FUNCTION sscanf,0202H
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC

// C:\Users\ljuic\Desktop\New folder\ZigBeeCoordinator\Components\dll\src\dll.c
//    1 #include "includes/dll.h"
//    2 //#include "hal/includes/hal_gpio.h"
//    3 #include "includes/defines.h"
//    4 #include "hal_uart.h"
//    5 #include "includes/circular_buffer.h"
//    6 
//    7 #include "hal_lcd.h"
//    8 #include "OnBoard.h"
//    9 //#include <stdlib.h>
//   10 //#include "stdlib.h"
//   11 //#include "cmsis_os.h"
//   12 
//   13 #include <stdio.h>
//   14 //#include <stdint.h>
//   15 //#include <stdlib.h>
//   16 #include "hal_types.h"
//   17 //*****************************************************************************
//   18 //
//   19 // A mapping of devices IDs to signal_id number.
//   20 //
//   21 //*****************************************************************************

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
//   22 static const uint16 signalID[] = {
signalID:
        DATA16
        DW 12884
        DW 4370
        DW 12880
        DW 4372
        DW 12872
        DW 4374
        DW 4375
        DW 4376
        DW 4377
//   23                                   TEMP_SENSOR_INSIDE,
//   24                                   TEMP_SENSOR_OUTSIDE,
//   25                                   PRESSURE_SENSOR_INSIDE,
//   26                                   PRESSURE_SENSOR_OUTSIDE,
//   27                                   HUMIDITY_SENSOR_INSIDE,
//   28                                   HUMIDITY_SENSOR_OUTSIDE,
//   29                                   DOOR,
//   30                                   WINDOW,
//   31                                   MOTION_SENSOR
//   32                                   };
//   33 
//   34 
//   35 
//   36 
//   37 //*****************************************************************************
//   38 //
//   39 // Internal/local functions
//   40 // \just defining functionality/
//   41 //
//   42 //*****************************************************************************
//   43 static uint8 getSignalID(const uint16 devicesAddress);
//   44 static uint8 checksum(DLLPacket_t *frame);
//   45 
//   46 //static uint8 processFrameRx(uint8 *frame, uint8 len, uint16 Address);
//   47 //static uint8 devAddressSupport(uint16 devAddress);
//   48 
//   49 
//   50 //static uint8 halUARTWrite(CircularBuffer_t *txBuffer, uint8 len);
//   51 static void packFrameToStell(uint8 *buff, DLLPacket_t emPacket);
//   52 //*****************************************************************************
//   53 //
//   54 // CMSIS-RTOS tread definition and tread  function declaration
//   55 //
//   56 //*****************************************************************************
//   57 /*
//   58 void communicationThread(void const *arg);
//   59 osThreadId tID_PC_Communication;
//   60 osThreadId tID_CC2530_Communication;
//   61 */
//   62 
//   63 //*****************************************************************************
//   64 //
//   65 // Extern variables
//   66 //
//   67 // treba promijeniti naziv ova dva bafera u circularBuffer.h
//   68 //
//   69 //*****************************************************************************

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   70 CircularBuffer_t rxBufferPC;
rxBufferPC:
        DS 260
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   71 CircularBuffer_t rxBufferCC2530;
rxBufferCC2530:
        DS 260
        REQUIRE __INIT_XDATA_Z
//   72 
//   73 //*****************************************************************************
//   74 //
//   75 // Local variables
//   76 //
//   77 //*****************************************************************************
//   78 //DLLState_t statePC;

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   79 DLLState_t stateCC2530;
stateCC2530:
        DS 1
        REQUIRE __INIT_XDATA_Z
//   80 //uint8 emFlagPC;

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   81 uint8 emFlagCC2530;
emFlagCC2530:
        DS 1
        REQUIRE __INIT_XDATA_Z
//   82 
//   83 //char uiTxBufferPC[MAX_BUFFER_LENGHT];
//   84 //uint8 uiRxBufferPC[MAX_BUFFER_LENGHT];
//   85 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   86 char uiTxBufferCC2530[MAX_BUFFER_LENGHT];
uiTxBufferCC2530:
        DS 256
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   87 uint8 uiRxBufferCC2530[MAX_BUFFER_LENGHT];
uiRxBufferCC2530:
        DS 256
        REQUIRE __INIT_XDATA_Z
//   88 
//   89 //uint8 rxBufferPCIndex;
//   90 //uint8 txBufferPCIndex;
//   91 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   92 uint8 rxBufferCC2530Index;
rxBufferCC2530Index:
        DS 1
        REQUIRE __INIT_XDATA_Z

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   93 uint8 txBufferCC2530Index;
txBufferCC2530Index:
        DS 1
        REQUIRE __INIT_XDATA_Z
//   94 
//   95 //uint8 tmpPC;

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   96 uint8 tmpCC2530;
tmpCC2530:
        DS 1
        REQUIRE __INIT_XDATA_Z
//   97 
//   98 //CircularBuffer_t cTxBufferPC;

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//   99 CircularBuffer_t cTxBufferCC2530;
cTxBufferCC2530:
        DS 260
        REQUIRE __INIT_XDATA_Z
//  100 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA8
//  101 DLLPacket_t recPack;
recPack:
        DS 9
        REQUIRE __INIT_XDATA_Z
//  102 

        RSEG XDATA_Z:XDATA:NOROOT(0)
        DATA16
//  103 static CallBack_t callBack;
callBack:
        DS 2
        REQUIRE __INIT_XDATA_Z
//  104 
//  105 //*****************************************************************************
//  106 //
//  107 // Function definition
//  108 //
//  109 //*****************************************************************************
//  110 
//  111 //*****************************************************************************
//  112 //
//  113 //! Data link layer initialization function
//  114 //!
//  115 //! This function initializes states and indexes,
//  116 //! configures communication ports, one of \b PC or \b CC2530 and their
//  117 //! baudrates, one of \b BAUDRATE_PC \b BAUDRATE_CC2530. Creates two threads
//  118 //! for communication wia UART interface.
//  119 //!
//  120 //! \return None.
//  121 //
//  122 //*****************************************************************************

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  123 void dllInit(void)
dllInit:
          CFI Block cfiBlock0 Using cfiCommon0
          CFI Function dllInit
        CODE
//  124 {
        FUNCALL dllInit, circularInit
        LOCFRAME ISTACK, 2, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 0, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 2, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 0, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  125 	//osThreadDef(communicationThread, osPriorityHigh, 2, 0);
//  126 
//  127 	//uint8 portPC = PC;
//  128 	//uint8 portCC2530 = CC2530;
//  129 
//  130 	//statePC = IDLE;
//  131 	stateCC2530 = IDLE;
        MOV     DPTR,#stateCC2530
        CLR     A
        MOVX    @DPTR,A
//  132 	//rxBufferPCIndex = 0;
//  133 	//txBufferPCIndex = 0;
//  134 	rxBufferCC2530Index = 0;
        MOV     DPTR,#rxBufferCC2530Index
        MOVX    @DPTR,A
//  135 	txBufferCC2530Index = 0;
        MOV     DPTR,#txBufferCC2530Index
        MOVX    @DPTR,A
//  136 
//  137 	//circularInit(&cTxBufferPC);
//  138 	circularInit(&cTxBufferCC2530);
        ; Setup parameters for call to function circularInit
        MOV     R2,#cTxBufferCC2530 & 0xff
        MOV     R3,#(cTxBufferCC2530 >> 8) & 0xff
        LCALL   `??circularInit::?relay`; Banked call to: circularInit
//  139         /*CircularBuffer_t *cRxBuffer;
//  140 	CircularBuffer_t *cTxBuffer;
//  141         cRxBuffer = &rxBufferCC2530;
//  142         cTxBuffer = &cTxBufferCC2530;
//  143         */
//  144      /*   
//  145         
//  146         uint8 port  = *(uint8 *)(arg);
//  147 	uint8 *tmp;
//  148 	uint8 *rxBuffer;
//  149         uint8 *txBuffer;
//  150 	uint8 *txIndex;
//  151 	uint8 *rxIndex;
//  152 	uint8 *emFlag;
//  153 	DLLState_t *state;
//  154 	CircularBuffer_t *cRxBuffer;
//  155 	CircularBuffer_t *cTxBuffer;
//  156         
//  157         tmp = &tmpCC2530;
//  158         state = &stateCC2530;
//  159         txBuffer = (uint8 *)uiTxBufferCC2530;
//  160         rxBuffer = uiRxBufferCC2530;
//  161         txIndex = &txBufferCC2530Index;
//  162         rxIndex = &rxBufferCC2530Index;
//  163         emFlag = &emFlagCC2530;
//  164         cRxBuffer = &rxBufferCC2530;
//  165         cTxBuffer = &cTxBufferCC2530;
//  166 */
//  167 	//halUARTOpenPort(PC, BAUDRATE_PC , 1, 0);
//  168 	//halUARTOpenPort(CC2530, BAUDRATE_CC2530, 1, 0);
//  169         
//  170         
//  171         ////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  172         // Ovdje treba initUart
//  173         ////////////////////////////////////////////////////////////////////////////////////////////////////////////
//  174 
//  175 	//tID_PC_Communication = osThreadCreate( osThread(communicationThread), (void *)(&portPC));
//  176 	//tID_CC2530_Communication = osThreadCreate( osThread(communicationThread), (void *)(&portCC2530));
//  177 }
          CFI EndBlock cfiBlock0
        REQUIRE ?Subroutine0
        ; // Fall through to label ?Subroutine0

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine0:
          CFI Block cfiBlock1 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+-5
          CFI DPL0 Frame(CFA_SP, 4)
          CFI DPH0 Frame(CFA_SP, 5)
        POP     DPH
          CFI CFA_SP SP+-4
          CFI DPH0 SameValue
        POP     DPL
          CFI CFA_SP SP+-3
          CFI DPL0 SameValue
        LJMP    ?BRET
          CFI EndBlock cfiBlock1
//  178 
//  179 //*****************************************************************************
//  180 //
//  181 //! Register callback function.
//  182 //!
//  183 //! \param cb is pointer on the function.
//  184 //!
//  185 //! \return None.
//  186 //
//  187 //*****************************************************************************

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  188 void CallBackRegister(CallBack_t cb)
CallBackRegister:
          CFI Block cfiBlock2 Using cfiCommon0
          CFI Function CallBackRegister
        CODE
//  189 {
        PUSH    DPL
          CFI DPL0 Frame(CFA_SP, 4)
          CFI CFA_SP SP+-4
        PUSH    DPH
          CFI DPH0 Frame(CFA_SP, 5)
          CFI CFA_SP SP+-5
        ; Saved register size: 2
        ; Auto size: 0
//  190 	callBack = cb;
        MOV     DPTR,#callBack
        MOV     A,R2
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R3
        MOVX    @DPTR,A
//  191 }
        SJMP    ?Subroutine0
          CFI EndBlock cfiBlock2
//  192 
//  193 //*****************************************************************************
//  194 //
//  195 //! Function handles comminucation. Handles RX or TX on active ports.
//  196 //!
//  197 //! \param arg is pointer on port.
//  198 //!
//  199 //! This function sends data from app layer forward and delivers data to app
//  200 //! layer.
//  201 //!
//  202 //! \return None.
//  203 //
//  204 //*****************************************************************************
//  205 /*
//  206 void communicationThread(void const *arg)
//  207 {
//  208 	uint8 port  = *(uint8 *)(arg);
//  209 	uint8 *tmp;
//  210 	uint8 *rxBuffer;
//  211         uint8 *txBuffer;
//  212 	uint8 *txIndex;
//  213 	uint8 *rxIndex;
//  214 	uint8 *emFlag;
//  215 	DLLState_t *state;
//  216 	CircularBuffer_t *cRxBuffer;
//  217 	CircularBuffer_t *cTxBuffer;
//  218 
//  219 	if (PC == port)
//  220 	{
//  221 		tmp = &tmpPC;
//  222 		state = &statePC;
//  223 		txBuffer = (uint8 *)uiTxBufferPC;
//  224 		rxBuffer = uiRxBufferPC;
//  225 		txIndex = &txBufferPCIndex;
//  226 		rxIndex = &rxBufferPCIndex;
//  227 		emFlag = &emFlagPC;
//  228 		cRxBuffer = &rxBufferPC;
//  229 		cTxBuffer = &cTxBufferPC;
//  230 	}
//  231 	else if (CC2530 == port)
//  232 	{
//  233   	tmp = &tmpCC2530;
//  234 		state = &stateCC2530;
//  235 		txBuffer = (uint8 *)uiTxBufferCC2530;
//  236 		rxBuffer = uiRxBufferCC2530;
//  237 		txIndex = &txBufferCC2530Index;
//  238 		rxIndex = &rxBufferCC2530Index;
//  239 		emFlag = &emFlagCC2530;
//  240 		cRxBuffer = &rxBufferCC2530;
//  241 		cTxBuffer = &cTxBufferCC2530;
//  242 	}
//  243 
//  244 	while (1)
//  245 	{
//  246 		osDelay(10);
//  247 		switch ((*state))
//  248 		{
//  249 			case IDLE:
//  250 				if (circularGet(cRxBuffer, tmp))	//zastita!!!
//  251 				{
//  252 					if (START_DELIMITER == (*tmp))
//  253 					{
//  254 						*rxIndex = 0;
//  255 						*state = RECEPTION;
//  256 					}
//  257 					else
//  258 					{
//  259 						*state = IDLE;
//  260 
//  261 					}
//  262 				}
//  263 				else if (EMISSION_START == (*emFlag))
//  264 				{
//  265 					*state = EMISSION;
//  266 				}
//  267 
//  268 				else
//  269 				{
//  270 					*state = IDLE;
//  271 
//  272 				}
//  273 				break;
//  274 			case RECEPTION:
//  275 				do
//  276 				{
//  277 					if (circularGet(cRxBuffer, tmp)) // zastita!!!
//  278 					{
//  279 						if (START_DELIMITER == (*tmp))
//  280 						{
//  281 							*rxIndex = 0;
//  282 						}
//  283 						else
//  284 						{
//  285 							rxBuffer[(*rxIndex)++] = *tmp;
//  286 						}
//  287 					}
//  288 				} while(STOP_DELIMITER != *tmp);
//  289 				*state = IDLE;				//
//  290 				processFrameRx(rxBuffer, *rxIndex, port);
//  291 			break;
//  292 			case EMISSION:
//  293 				array2circular(cTxBuffer, txBuffer, *txIndex);
//  294 				halUARTWrite(port, cTxBuffer, 0);
//  295 				*txIndex = 0;
//  296 				*state = IDLE;
//  297 			break;
//  298 			default:
//  299 				// error state!!!
//  300 			break;
//  301 		}
//  302 	}
//  303 }
//  304 */
//  305 //*****************************************************************************
//  306 //
//  307 //! Get the signal ID.
//  308 //!
//  309 //! \param deviceAddress is device address.
//  310 //!
//  311 //! For given a device address, this function returns the corresponding
//  312 //! signal ID.
//  313 //!
//  314 //! \return Returns signal ID, or -1 if \e deviceAddress is not supported.
//  315 //
//  316 //*****************************************************************************
//  317 static uint8 getSignalID(const uint16 deviceAddress)
//  318 {
//  319 	uint8 i;
//  320         //uint8 j;
//  321         char *id;
//  322         //char idde;
//  323         uint16 idde;
//  324         
//  325 	uint8 retVal = 255;
//  326 	for (i = 0; i < sizeof(signalID); i+=2)
//  327 	{
//  328             
//  329 		if (deviceAddress == signalID[i])
//  330 		{
//  331 			retVal = i;
//  332                         
//  333                         
//  334 		}
//  335                 //idde = deviceAddress;//i + 0x30;//signalID[i];
//  336                 idde = signalID[i];//i + 0x30;//signalID[i];
//  337                 id = (char*)&idde;
//  338                 //id[0] = idde;
//  339                // id[1] = '\0';
//  340                 id[2] = '\0';
//  341                 //HalLcdWriteString("-----------------------------SignalID----------------------",0);
//  342                // HalLcdWriteString(id,0);
//  343                 /*for(j=0;j<3;j++)
//  344                 {
//  345                   uartSend(*(id + j));
//  346                   
//  347                 }*/
//  348                 //HalLcdWriteString("-----------------------------SignalID----------------------",0);
//  349                 idde = deviceAddress;//i + 0x30;
//  350                 //signalID[i];id = (char*)&idde;
//  351                 //HalLcdWriteString("-----------------------------deviceAddress----------------------",0);
//  352                 //HalLcdWriteString(id,0);
//  353                 /*for(j=0;j<3;j++)
//  354                 {
//  355                   uartSend(*(id + j));
//  356                   
//  357                 }*/
//  358                 //HalLcdWriteString("-----------------------------deviceAddress----------------------",0);
//  359 	}
//  360 	return retVal;
//  361 }
//  362 
//  363 //*****************************************************************************
//  364 //
//  365 //! Process received data.
//  366 //!
//  367 //! \param frame is pointer on the received frame.
//  368 //! \param len is lenght of received frame.
//  369 //! \param port is number of port.
//  370 //!
//  371 //! Function process received frame, converts, checks checksum and validation
//  372 //! of signal ID (supported devices)
//  373 //!
//  374 //! \return Returns signal ID, or -1 if \e deviceAddress is not supported.
//  375 //
//  376 //*****************************************************************************

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  377 uint16 processFrameRx(uint8 *frame)
processFrameRx:
          CFI Block cfiBlock3 Using cfiCommon0
          CFI Function processFrameRx
        CODE
//  378 {
        FUNCALL processFrameRx, sscanf
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 30, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 30, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 10
        MOV     A,#-0xa
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  379 	Data_t *cbData;
//  380 	int iSignalID;
//  381 	int iData;
//  382 	int iPackNum;
//  383 	int iTimeStamp;
//  384 	int iCheckSum;
//  385 	sscanf((char *)frame, 
//  386                "%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d",
//  387                        &iSignalID,
//  388                        &iPackNum,
//  389                        &iData,
//  390                        &iTimeStamp,
//  391                        &iCheckSum
//  392                        );
        ; Setup parameters for call to function sscanf
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 22)
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 26)
        MOV     A,#0xa
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 28)
        MOV     A,#0x10
        LCALL   ?XSTACK_DISP100_8
        MOV     ?V0,R0
        MOV     ?V1,R1
        MOV     R0,#?V0
        LCALL   ?PUSH_XSTACK_I_TWO
          CFI CFA_XSP16 add(XSP16, 30)
        MOV     R4,#`?<Constant "%*[^0123456789]%d%*[^...">` & 0xff
        MOV     R5,#(`?<Constant "%*[^0123456789]%d%*[^...">` >> 8) & 0xff
        LCALL   `??sscanf::?relay`   ; Banked call to: sscanf
        MOV     A,#0xa
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 20)
//  393 	recPack.appData.devID = signalID[iSignalID];
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     A,R0
        ADD     A,R0
        MOV     R0,A
        MOV     A,R1
        RLC     A
        MOV     R1,A
        MOV     A,#signalID & 0xff
        ADD     A,R0
        MOV     DPL,A
        MOV     A,#(signalID >> 8) & 0xff
        ADDC    A,R1
        MOV     DPH,A
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPTR,#recPack
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  394 	recPack.appData.packNum = (uint32)iPackNum & 0xff;
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     DPTR,#recPack + 2
        MOVX    @DPTR,A
//  395 	recPack.appData.data = (uint32)iData & 0xffffffff;
        MOV     A,#0x6
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     R4,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R5,A
        RLC     A
        SUBB    A,0xE0 /* A   */
        MOV     R6,A
        MOV     DPTR,#recPack + 3
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R5
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R6
        MOVX    @DPTR,A
        INC     DPTR
        MOVX    @DPTR,A
//  396 	recPack.timeStamp = (uint32)iTimeStamp & 0xff;
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     DPTR,#recPack + 7
        MOVX    @DPTR,A
//  397 	recPack.checkSum = (uint32)iCheckSum & 0xff;
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOVX    A,@DPTR
        MOV     DPTR,#recPack + 8
        MOVX    @DPTR,A
//  398 
//  399 	cbData = (struct sData *)(&recPack);
//  400 
//  401 
//  402 //if (checksum(recPack) == recPack->checkSum)
//  403 //{
//  404 //	if (devAddressSupport(recPack->appData.devID))
//  405 //	{
//  406 			callBack(cbData);
        ; Setup parameters for indirect call
        MOV     R2,#recPack & 0xff
        MOV     R3,#(recPack >> 8) & 0xff
        MOV     DPTR,#callBack
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     DPH,A
        MOV     DPL,R0
        LCALL   ?CALL_IND
//  407 
//  408 //	}
//  409 		//return 1;
//  410                 return recPack.appData.devID;
        MOV     DPTR,#recPack
        MOVX    A,@DPTR
        MOV     R2,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R3,A
        MOV     A,#0xa
          CFI EndBlock cfiBlock3
        REQUIRE ?Subroutine1
        ; // Fall through to label ?Subroutine1
//  411 //}
//  412 //else
//  413 //{
//  414 //	error_checkSum();
//  415 //	recPack = NULL;
//  416 //	return 0;
//  417 //}
//  418 
//  419 }

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine1:
          CFI Block cfiBlock4 Using cfiCommon0
          CFI NoFunction
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 20)
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI Invalid
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 10)
          CFI Valid
        MOV     R7,#0x2
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock4
//  420 
//  421 
//  422 //*****************************************************************************
//  423 //
//  424 //! Calculating checksum.
//  425 //!
//  426 //! \param frame is pointer on frame on which one is needed to calculated.
//  427 //!
//  428 //! Function caluculates checksum executing XOR operation on evert member of
//  429 //! \b frame.
//  430 //!
//  431 //! \return Returns result of sumary operation.
//  432 //
//  433 //*****************************************************************************
//  434 static uint8 checksum(DLLPacket_t *frame)
//  435 {
//  436 	uint8 sum  = 0x00;
//  437 	uint8 *ptr = (uint8 *)(frame);
//  438 	uint8 *end = &frame->checkSum;
//  439 	while(ptr != end)
//  440 	{
//  441 		sum ^= *ptr;
//  442 		ptr++;
//  443 	}
//  444 
//  445 	return sum;
//  446 
//  447 }
//  448 
//  449 //*****************************************************************************
//  450 //
//  451 //! Checks a devices address.
//  452 //!
//  453 //! \param devAddress is device address.
//  454 //!
//  455 //! This function determines if a device address is supported.
//  456 //!
//  457 //! \return Returns \b true if address is supported, or \b false otherwise.
//  458 //
//  459 //*****************************************************************************
//  460 /*
//  461 static uint8 devAddressSupport(uint16 devAddress)
//  462 {
//  463 	return( (devAddress == TEMP_SENSOR_INSIDE) ||
//  464 					(devAddress == TEMP_SENSOR_OUTSIDE) ||
//  465 					(devAddress == PRESSURE_SENSOR_INSIDE) ||
//  466  					(devAddress == PRESSURE_SENSOR_OUTSIDE) ||
//  467 					(devAddress == HUMIDITY_SENSOR_INSIDE) ||
//  468 					(devAddress == HUMIDITY_SENSOR_OUTSIDE) ||
//  469 					(devAddress == DOOR) ||
//  470 					(devAddress == WINDOW) ||
//  471 					(devAddress == MOTION_SENSOR)
//  472 					);
//  473 }
//  474 */
//  475 //*****************************************************************************
//  476 //
//  477 //! Function that handles data services.
//  478 //!
//  479 //! \param aData is pointer on data structure.
//  480 //! \param port indicates port number.
//  481 //!
//  482 //! This function prepare data to be ready to send and sets state flag to
//  483 //! signals the thread to perform an action.
//  484 //!
//  485 //! \return None.
//  486 //
//  487 //*****************************************************************************
//  488 /*
//  489 static uint8 halUARTWrite(CircularBuffer_t *txBuffer, uint8 len)
//  490 {
//  491 	uint8 cnt = 0;
//  492 	uint8 i;
//  493 	uint8 data;
//  494 
//  495 	if (0 == len)
//  496 	{
//  497 		while(!circularIsEmpty(txBuffer))
//  498 		{
//  499 			circularGet(txBuffer, &data);
//  500                         uartSend(data);
//  501 			cnt++;
//  502 
//  503 		}// end while
//  504 	}// end if
//  505 
//  506 	else if (len < circularSize(txBuffer))
//  507 	{
//  508 		for (i = 0; i < len; i++)
//  509 		{
//  510 			circularGet(txBuffer, &data);
//  511 			uartSend(data);
//  512 		}// end for
//  513 		cnt = i;
//  514 
//  515 	}// end else if
//  516 
//  517 	else
//  518 	{
//  519 		// error_uart();
//  520 
//  521 	}// end else
//  522 
//  523 	return cnt;
//  524 }
//  525 */

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  526 static void packFrameToStell(uint8 *buff, DLLPacket_t emPacket)
packFrameToStell:
          CFI Block cfiBlock5 Using cfiCommon0
          CFI Function packFrameToStell
        CODE
//  527 {
        REQUIRE ?V0
        REQUIRE ?V1
        REQUIRE ?V2
        REQUIRE ?V3
        REQUIRE ?V4
        REQUIRE ?V5
        REQUIRE ?V6
        REQUIRE ?V7
        MOV     A,#-0x10
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 16)
        ; Saved register size: 16
        ; Auto size: 8
        MOV     A,#-0x8
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 24)
        MOV     A,R2
        MOV     R6,A
        MOV     A,R3
        MOV     R7,A
//  528   
//  529   
//  530   //uint32 da;
//  531   
//  532   int i = 0;
        MOV     R2,#0x0
        MOV     R3,#0x0
//  533   int j = 0;
        MOV     ?V2,R2
        MOV     ?V3,R2
//  534   int k = 0;
//  535   uint8 *pBuf = buff;
//  536  
//  537   uint32 pom = emPacket.appData.data;
        MOV     A,#0x1b
        LCALL   ?XSTACK_DISP0_8
        MOV     R0,#?V4
        LCALL   ?L_MOV_X
//  538   
//  539   
//  540   char dat[4] = {'0','0','0','0'};
        MOV     DPTR,#`?<Constant {48, 48, 48, 48}>`
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP102_8
        MOV     A,#0x4
        LCALL   ?MOVE_LONG8_XDATA_XDATA
//  541   char daaat[4] = {'0','0','0','0'};
        MOV     DPTR,#`?<Constant {48, 48, 48, 48}>_1`
        MOV     R4,?XSP + 0
        MOV     R5,?XSP + 1
        MOV     A,#0x4
        LCALL   ?MOVE_LONG8_XDATA_XDATA
        SJMP    ??packFrameToStell_0
//  542  // char *id; //= dat;
//  543   
//  544  
//  545     while(pom)
//  546     {
//  547       dat[i] = (pom % 16) + '0';
??packFrameToStell_1:
        MOV     ?V0,?V4
        MOV     A,?V0
        ANL     A,#0xf
        ADD     A,#0x30
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine8 & 0xFFFF
??CrossCallReturnLabel_13:
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  548       pom/=256;
        CLR     A
        XCH     A,?V7
        XCH     A,?V6
        XCH     A,?V5
        MOV     ?V4,A
//  549       i++;
        INC     R2
        MOV     A,R2
        JNZ     ??packFrameToStell_0
        INC     R3
//  550     }
??packFrameToStell_0:
        MOV     A,?V4
        ORL     A,?V5
        ORL     A,?V6
        ORL     A,?V7
        JNZ     ??packFrameToStell_1
//  551   
//  552     k = 4 - i;
        MOV     A,#0x4
        CLR     C
        SUBB    A,R2
        MOV     R0,A
        CLR     A
        SUBB    A,R3
        MOV     R1,A
//  553     for(j = 0; j < k; j++)
        MOV     A,R0
        MOV     R2,A
        MOV     A,R1
        MOV     R3,A
        CLR     C
        MOV     A,R0
        SUBB    A,#0x1
        MOV     A,R1
        LCALL   ?Subroutine4 & 0xFFFF
??CrossCallReturnLabel_4:
        JC      ??packFrameToStell_2
//  554     {
//  555       daaat[j] = '0';
        MOV     R4,#0x30
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
??packFrameToStell_3:
        MOV     A,R4
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R2
        ADD     A,#-0x1
        DEC     R2
        MOV     A,R3
        ADDC    A,#-0x1
        MOV     R3,A
        ORL     A,R2
        JNZ     ??packFrameToStell_3
//  556       
//  557     }
        MOV     ?V2,R2
        MOV     ?V3,R3
//  558     i = 0;
??packFrameToStell_2:
        MOV     R2,#0x0
        MOV     R3,#0x0
        SJMP    ??packFrameToStell_4
//  559     for(; j < 4; j++)
//  560     {   
//  561       daaat[k] = dat[i];
??packFrameToStell_5:
        MOV     A,#0x4
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine5 & 0xFFFF
??CrossCallReturnLabel_7:
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,DPL
        ADD     A,R0
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R1
        MOV     DPH,A
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  562       k++;
        INC     R0
        MOV     A,R0
        JNZ     ??packFrameToStell_6
        INC     R1
//  563       i++;
??packFrameToStell_6:
        INC     R2
        MOV     A,R2
        JNZ     ??packFrameToStell_7
        INC     R3
//  564       
//  565     }
??packFrameToStell_7:
        INC     ?V2
        MOV     A,?V2
        JNZ     ??packFrameToStell_4
        INC     ?V3
??packFrameToStell_4:
        CLR     C
        MOV     A,?V2
        SUBB    A,#0x4
        MOV     A,?V3
        LCALL   ?Subroutine4 & 0xFFFF
??CrossCallReturnLabel_5:
        JC      ??packFrameToStell_5
//  566  
//  567       //uint8 len = 1 + 1 + 4 + 1 + 1;
//  568   *pBuf++ = 0x3E;
        MOV     DPL,R6
        MOV     DPH,R7
        MOV     A,#0x3e
        MOVX    @DPTR,A
//  569   
//  570   *pBuf++ = 0x23;
        INC     DPTR
        MOV     A,#0x23
        MOVX    @DPTR,A
//  571   
//  572   
//  573   *pBuf++ = getSignalID(emPacket.appData.devID) + 0x30;
        MOV     A,R6
        ADD     A,#0x2
        MOV     R0,A
        CLR     A
        ADDC    A,R7
        MOV     R1,A
        MOV     A,R0
        MOV     R4,A
        MOV     A,R1
        MOV     R5,A
        MOV     DPL,R4
        MOV     DPH,R5
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
        MOV     A,#0x18
        LCALL   ?XSTACK_DISP0_8
        MOVX    A,@DPTR
        MOV     ?V0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     ?V1,A
        MOV     R7,#-0x1
        MOV     R6,#0x0
??packFrameToStell_8:
        MOV     A,R6
        ADD     A,0xE0 /* A   */
        MOV     R2,A
        CLR     A
        RLC     A
        MOV     R3,A
        MOV     A,#signalID & 0xff
        ADD     A,R2
        MOV     DPL,A
        MOV     A,#(signalID >> 8) & 0xff
        ADDC    A,R3
        MOV     DPH,A
        MOVX    A,@DPTR
        XRL     A,?V0
        JNZ     ??packFrameToStell_9
        INC     DPTR
        MOVX    A,@DPTR
        XRL     A,?V1
??packFrameToStell_9:
        JNZ     ??packFrameToStell_10
        MOV     A,R6
        MOV     R7,A
??packFrameToStell_10:
        MOV     A,#0x2
        ADD     A,R6
        MOV     R6,A
        CLR     C
        SUBB    A,#0x12
        JC      ??packFrameToStell_8
        MOV     A,#0x30
        ADD     A,R7
        MOV     DPL,R4
        MOV     DPH,R5
        MOVX    @DPTR,A
//  574   
//  575   *pBuf++ = 0x2C;
        MOV     DPL,R0
        MOV     DPH,R1
        MOV     A,#0x2c
        MOVX    @DPTR,A
//  576   *pBuf++ = 0x23;
        INC     DPTR
        MOV     A,#0x23
        MOVX    @DPTR,A
//  577   
//  578   
//  579   *pBuf++ = emPacket.appData.packNum + 0x30;
        MOV     A,#0x1a
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine2 & 0xFFFF
//  580   
//  581   *pBuf++ = 0x2C;
//  582   *pBuf++ = 0x23;
??CrossCallReturnLabel_0:
        MOV     A,R0
        ADD     A,#0x5
        MOV     R0,A
        JNC     ??packFrameToStell_11
        INC     R1
//  583   
//  584   
//  585   for(i = 0; i < 4; i++)
??packFrameToStell_11:
        MOV     R2,#0x0
        MOV     R3,#0x0
//  586   {
//  587     *pBuf++ =daaat[i] ;
??packFrameToStell_12:
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        LCALL   ?Subroutine5 & 0xFFFF
//  588      //uartSend(data[i]);//+'0');
//  589     //HalLcdWriteString((char *)data[i], 0);
//  590     //HalLcdWriteString("-----------Simic-----------", 0);
//  591   }
??CrossCallReturnLabel_8:
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    @DPTR,A
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
        INC     R2
        MOV     A,R2
        JNZ     ??packFrameToStell_13
        INC     R3
??packFrameToStell_13:
        CLR     C
        SUBB    A,#0x4
        MOV     A,R3
        LCALL   ?Subroutine4 & 0xFFFF
??CrossCallReturnLabel_6:
        JC      ??packFrameToStell_12
//  592   
//  593   *pBuf++ = 0x2C;
        MOV     A,#0x2c
        MOVX    @DPTR,A
//  594   *pBuf++ = 0x23;
        INC     DPTR
        MOV     A,#0x23
        MOVX    @DPTR,A
//  595   
//  596   
//  597   *pBuf++ = emPacket.timeStamp + 0x30;  
        MOV     A,#0x1f
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine2 & 0xFFFF
//  598   
//  599   *pBuf++ = 0x2C;
//  600   *pBuf++ = 0x23;
//  601   
//  602   
//  603   *pBuf++ = emPacket.checkSum + 0x30;
??CrossCallReturnLabel_1:
        MOV     A,#0x20
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_11:
        INC     DPTR
        INC     DPTR
        INC     DPTR
        LCALL   ?Subroutine3 & 0xFFFF
//  604   *pBuf++ = 0x3C;
??CrossCallReturnLabel_2:
        MOV     A,#0x3c
        LCALL   ?Subroutine3 & 0xFFFF
//  605   *pBuf++ = 0x00;
??CrossCallReturnLabel_3:
        INC     DPTR
        CLR     A
        MOVX    @DPTR,A
//  606   /*
//  607   da = emPacket.appData.data;
//  608   id = (char*)&da;
//  609   id[4] = '\0';
//  610   HalLcdWriteString("-----------------------------Paket----------------------",0);
//  611   HalLcdWriteString(id,0);
//  612   HalLcdWriteString("-----------------------------Paket----------------------",0);
//  613   */
//  614 } 
        MOV     A,#0x8
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 16)
        MOV     R7,#0x8
        LJMP    ?BANKED_LEAVE_XDATA
          CFI EndBlock cfiBlock5

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine5:
          CFI Block cfiCond6 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_7
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-2
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond7 Using cfiCommon0
          CFI (cfiCond7) Function packFrameToStell
          CFI (cfiCond7) Conditional ??CrossCallReturnLabel_8
          CFI (cfiCond7) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond7) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond7) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond7) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond7) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond7) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond7) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond7) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond7) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond7) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond7) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond7) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond7) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond7) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond7) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond7) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond7) CFA_SP SP+-2
          CFI (cfiCond7) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker8 Using cfiCommon1
          CFI (cfiPicker8) NoFunction
          CFI (cfiPicker8) Picker
        LCALL   ?Subroutine8 & 0xFFFF
??CrossCallReturnLabel_14:
        MOVX    A,@DPTR
        RET
          CFI EndBlock cfiCond6
          CFI EndBlock cfiCond7
          CFI EndBlock cfiPicker8

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine8:
          CFI Block cfiCond9 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_13
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond10 Using cfiCommon0
          CFI (cfiCond10) Function packFrameToStell
          CFI (cfiCond10) Conditional ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_7
          CFI (cfiCond10) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond10) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond10) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond10) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond10) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond10) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond10) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond10) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond10) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond10) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond10) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond10) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond10) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond10) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond10) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond10) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond10) CFA_SP SP+-4
          CFI (cfiCond10) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond11 Using cfiCommon0
          CFI (cfiCond11) Function packFrameToStell
          CFI (cfiCond11) Conditional ??CrossCallReturnLabel_14, ??CrossCallReturnLabel_8
          CFI (cfiCond11) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond11) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond11) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond11) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond11) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond11) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond11) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond11) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond11) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond11) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond11) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond11) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond11) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond11) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond11) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond11) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond11) CFA_SP SP+-4
          CFI (cfiCond11) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker12 Using cfiCommon1
          CFI (cfiPicker12) NoFunction
          CFI (cfiPicker12) Picker
        MOV     A,DPL
        ADD     A,R2
        MOV     DPL,A
        MOV     A,DPH
        ADDC    A,R3
        MOV     DPH,A
        RET
          CFI EndBlock cfiCond9
          CFI EndBlock cfiCond10
          CFI EndBlock cfiCond11
          CFI EndBlock cfiPicker12

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine4:
          CFI Block cfiCond13 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_4
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-2
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond14 Using cfiCommon0
          CFI (cfiCond14) Function packFrameToStell
          CFI (cfiCond14) Conditional ??CrossCallReturnLabel_5
          CFI (cfiCond14) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond14) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond14) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond14) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond14) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond14) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond14) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond14) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond14) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond14) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond14) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond14) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond14) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond14) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond14) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond14) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond14) CFA_SP SP+-2
          CFI (cfiCond14) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond15 Using cfiCommon0
          CFI (cfiCond15) Function packFrameToStell
          CFI (cfiCond15) Conditional ??CrossCallReturnLabel_6
          CFI (cfiCond15) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond15) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond15) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond15) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond15) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond15) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond15) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond15) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond15) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond15) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond15) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond15) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond15) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond15) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond15) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond15) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond15) CFA_SP SP+-2
          CFI (cfiCond15) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker16 Using cfiCommon1
          CFI (cfiPicker16) NoFunction
          CFI (cfiPicker16) Picker
        SUBB    A,#0x0
        MOV     C,0xD0 /* PSW */.2
        XRL     A,PSW
        RLC     A
        RET
          CFI EndBlock cfiCond13
          CFI EndBlock cfiCond14
          CFI EndBlock cfiCond15
          CFI EndBlock cfiPicker16

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine3:
          CFI Block cfiCond17 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_2
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-2
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond18 Using cfiCommon0
          CFI (cfiCond18) Function packFrameToStell
          CFI (cfiCond18) Conditional ??CrossCallReturnLabel_3
          CFI (cfiCond18) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond18) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond18) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond18) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond18) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond18) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond18) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond18) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond18) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond18) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond18) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond18) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond18) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond18) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond18) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond18) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond18) CFA_SP SP+-2
          CFI (cfiCond18) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker19 Using cfiCommon1
          CFI (cfiPicker19) NoFunction
          CFI (cfiPicker19) Picker
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_9:
        INC     DPTR
        INC     DPTR
        RET
          CFI EndBlock cfiCond17
          CFI EndBlock cfiCond18
          CFI EndBlock cfiPicker19

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine2:
          CFI Block cfiCond20 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_0
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-2
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond21 Using cfiCommon0
          CFI (cfiCond21) Function packFrameToStell
          CFI (cfiCond21) Conditional ??CrossCallReturnLabel_1
          CFI (cfiCond21) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond21) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond21) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond21) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond21) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond21) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond21) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond21) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond21) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond21) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond21) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond21) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond21) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond21) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond21) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond21) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond21) CFA_SP SP+-2
          CFI (cfiCond21) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker22 Using cfiCommon1
          CFI (cfiPicker22) NoFunction
          CFI (cfiPicker22) Picker
        LCALL   ?Subroutine7 & 0xFFFF
??CrossCallReturnLabel_12:
        LCALL   ?Subroutine9 & 0xFFFF
??CrossCallReturnLabel_15:
        MOV     A,#0x2c
        LCALL   ?Subroutine6 & 0xFFFF
??CrossCallReturnLabel_10:
        MOV     A,#0x23
        MOVX    @DPTR,A
        RET
          CFI EndBlock cfiCond20
          CFI EndBlock cfiCond21
          CFI EndBlock cfiPicker22

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine7:
          CFI Block cfiCond23 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_11
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-2
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond24 Using cfiCommon0
          CFI (cfiCond24) Function packFrameToStell
          CFI (cfiCond24) Conditional ??CrossCallReturnLabel_12, ??CrossCallReturnLabel_0
          CFI (cfiCond24) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond24) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond24) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond24) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond24) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond24) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond24) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond24) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond24) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond24) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond24) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond24) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond24) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond24) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond24) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond24) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond24) CFA_SP SP+-4
          CFI (cfiCond24) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond25 Using cfiCommon0
          CFI (cfiCond25) Function packFrameToStell
          CFI (cfiCond25) Conditional ??CrossCallReturnLabel_12, ??CrossCallReturnLabel_1
          CFI (cfiCond25) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond25) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond25) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond25) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond25) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond25) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond25) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond25) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond25) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond25) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond25) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond25) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond25) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond25) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond25) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond25) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond25) CFA_SP SP+-4
          CFI (cfiCond25) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker26 Using cfiCommon1
          CFI (cfiPicker26) NoFunction
          CFI (cfiPicker26) Picker
        MOVX    A,@DPTR
        ADD     A,#0x30
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        INC     DPTR
        RET
          CFI EndBlock cfiCond23
          CFI EndBlock cfiCond24
          CFI EndBlock cfiCond25
          CFI EndBlock cfiPicker26

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine6:
          CFI Block cfiCond27 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_9, ??CrossCallReturnLabel_2
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-4
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond28 Using cfiCommon0
          CFI (cfiCond28) Function packFrameToStell
          CFI (cfiCond28) Conditional ??CrossCallReturnLabel_9, ??CrossCallReturnLabel_3
          CFI (cfiCond28) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond28) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond28) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond28) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond28) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond28) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond28) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond28) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond28) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond28) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond28) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond28) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond28) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond28) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond28) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond28) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond28) CFA_SP SP+-4
          CFI (cfiCond28) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond29 Using cfiCommon0
          CFI (cfiCond29) Function packFrameToStell
          CFI (cfiCond29) Conditional ??CrossCallReturnLabel_10, ??CrossCallReturnLabel_0
          CFI (cfiCond29) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond29) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond29) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond29) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond29) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond29) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond29) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond29) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond29) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond29) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond29) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond29) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond29) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond29) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond29) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond29) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond29) CFA_SP SP+-4
          CFI (cfiCond29) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond30 Using cfiCommon0
          CFI (cfiCond30) Function packFrameToStell
          CFI (cfiCond30) Conditional ??CrossCallReturnLabel_10, ??CrossCallReturnLabel_1
          CFI (cfiCond30) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond30) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond30) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond30) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond30) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond30) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond30) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond30) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond30) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond30) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond30) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond30) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond30) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond30) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond30) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond30) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond30) CFA_SP SP+-4
          CFI (cfiCond30) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker31 Using cfiCommon1
          CFI (cfiPicker31) NoFunction
          CFI (cfiPicker31) Picker
        LCALL   ?Subroutine9 & 0xFFFF
??CrossCallReturnLabel_16:
        INC     DPTR
        RET
          CFI EndBlock cfiCond27
          CFI EndBlock cfiCond28
          CFI EndBlock cfiCond29
          CFI EndBlock cfiCond30
          CFI EndBlock cfiPicker31

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
?Subroutine9:
          CFI Block cfiCond32 Using cfiCommon0
          CFI Function packFrameToStell
          CFI Conditional ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_0
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI CFA_SP SP+-4
          CFI CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond33 Using cfiCommon0
          CFI (cfiCond33) Function packFrameToStell
          CFI (cfiCond33) Conditional ??CrossCallReturnLabel_15, ??CrossCallReturnLabel_1
          CFI (cfiCond33) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond33) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond33) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond33) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond33) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond33) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond33) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond33) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond33) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond33) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond33) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond33) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond33) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond33) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond33) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond33) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond33) CFA_SP SP+-4
          CFI (cfiCond33) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond34 Using cfiCommon0
          CFI (cfiCond34) Function packFrameToStell
          CFI (cfiCond34) Conditional ??CrossCallReturnLabel_16, ??CrossCallReturnLabel_9, ??CrossCallReturnLabel_2
          CFI (cfiCond34) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond34) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond34) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond34) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond34) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond34) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond34) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond34) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond34) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond34) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond34) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond34) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond34) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond34) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond34) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond34) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond34) CFA_SP SP+-6
          CFI (cfiCond34) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond35 Using cfiCommon0
          CFI (cfiCond35) Function packFrameToStell
          CFI (cfiCond35) Conditional ??CrossCallReturnLabel_16, ??CrossCallReturnLabel_9, ??CrossCallReturnLabel_3
          CFI (cfiCond35) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond35) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond35) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond35) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond35) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond35) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond35) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond35) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond35) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond35) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond35) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond35) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond35) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond35) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond35) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond35) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond35) CFA_SP SP+-6
          CFI (cfiCond35) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond36 Using cfiCommon0
          CFI (cfiCond36) Function packFrameToStell
          CFI (cfiCond36) Conditional ??CrossCallReturnLabel_16, ??CrossCallReturnLabel_10, ??CrossCallReturnLabel_0
          CFI (cfiCond36) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond36) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond36) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond36) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond36) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond36) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond36) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond36) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond36) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond36) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond36) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond36) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond36) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond36) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond36) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond36) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond36) CFA_SP SP+-6
          CFI (cfiCond36) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiCond37 Using cfiCommon0
          CFI (cfiCond37) Function packFrameToStell
          CFI (cfiCond37) Conditional ??CrossCallReturnLabel_16, ??CrossCallReturnLabel_10, ??CrossCallReturnLabel_1
          CFI (cfiCond37) R6 load(1, XDATA, add(CFA_XSP16, literal(-16)))
          CFI (cfiCond37) VB load(1, XDATA, add(CFA_XSP16, literal(-15)))
          CFI (cfiCond37) V0 load(1, XDATA, add(CFA_XSP16, literal(-14)))
          CFI (cfiCond37) V1 load(1, XDATA, add(CFA_XSP16, literal(-13)))
          CFI (cfiCond37) V2 load(1, XDATA, add(CFA_XSP16, literal(-12)))
          CFI (cfiCond37) V3 load(1, XDATA, add(CFA_XSP16, literal(-11)))
          CFI (cfiCond37) V4 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI (cfiCond37) V5 load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI (cfiCond37) V6 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI (cfiCond37) V7 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI (cfiCond37) R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI (cfiCond37) ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI (cfiCond37) ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI (cfiCond37) ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI (cfiCond37) DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI (cfiCond37) DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI (cfiCond37) CFA_SP SP+-6
          CFI (cfiCond37) CFA_XSP16 add(XSP16, 24)
          CFI Block cfiPicker38 Using cfiCommon1
          CFI (cfiPicker38) NoFunction
          CFI (cfiPicker38) Picker
        MOVX    @DPTR,A
        MOV     DPL,R0
        MOV     DPH,R1
        INC     DPTR
        INC     DPTR
        INC     DPTR
        RET
          CFI EndBlock cfiCond32
          CFI EndBlock cfiCond33
          CFI EndBlock cfiCond34
          CFI EndBlock cfiCond35
          CFI EndBlock cfiCond36
          CFI EndBlock cfiCond37
          CFI EndBlock cfiPicker38
//  615 

        RSEG BANKED_CODE:HUGECODE:NOROOT(0)
//  616 void dllDataRequest(Data_t *aData)
dllDataRequest:
          CFI Block cfiBlock39 Using cfiCommon0
          CFI Function dllDataRequest
        CODE
//  617 {
        FUNCALL dllDataRequest, packFrameToStell
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 28, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 28, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        FUNCALL dllDataRequest, HalLcdWriteString
        LOCFRAME ISTACK, 0, STACK
        LOCFRAME PSTACK, 0, STACK
        LOCFRAME XSTACK, 19, STACK
        LOCFRAME IOVERLAY, 0, STATIC
        LOCFRAME DOVERLAY, 0, STATIC
        ARGFRAME ISTACK, 0, STACK
        ARGFRAME PSTACK, 0, STACK
        ARGFRAME XSTACK, 19, STACK
        ARGFRAME IOVERLAY, 0, STATIC
        ARGFRAME DOVERLAY, 0, STATIC
        REQUIRE ?V0
        REQUIRE ?V1
        MOV     A,#-0xa
        LCALL   ?BANKED_ENTER_XDATA
          CFI DPH0 load(1, XDATA, add(CFA_XSP16, literal(-1)))
          CFI DPL0 load(1, XDATA, add(CFA_XSP16, literal(-2)))
          CFI ?BRET_EXT load(1, XDATA, add(CFA_XSP16, literal(-3)))
          CFI ?RET_HIGH load(1, XDATA, add(CFA_XSP16, literal(-4)))
          CFI ?RET_LOW load(1, XDATA, add(CFA_XSP16, literal(-5)))
          CFI R7 load(1, XDATA, add(CFA_XSP16, literal(-6)))
          CFI V1 load(1, XDATA, add(CFA_XSP16, literal(-7)))
          CFI V0 load(1, XDATA, add(CFA_XSP16, literal(-8)))
          CFI VB load(1, XDATA, add(CFA_XSP16, literal(-9)))
          CFI R6 load(1, XDATA, add(CFA_XSP16, literal(-10)))
          CFI CFA_SP SP+0
          CFI CFA_XSP16 add(XSP16, 10)
        ; Saved register size: 10
        ; Auto size: 9
        MOV     A,#-0x9
        LCALL   ?ALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 19)
//  618         //char *id;
//  619         //uint16 idde;
//  620         //uint8 num;
//  621         //uint32 da;
//  622         /*
//  623         int iSignalID;
//  624 	int iData;
//  625 	int iPackNum;
//  626 	int iTimeStamp;
//  627 	int iCheckSum;
//  628         */
//  629         //uint8 *txBuffer;
//  630         //uint8 *txIndex;
//  631         //CircularBuffer_t *cTxBuffer;
//  632         
//  633 	DLLPacket_t emPacket;
//  634 	//emPacket.appData = *aData;
//  635         //emPacket.appData = aData;
//  636         
//  637         emPacket.appData.devID = aData->devID;
        MOV     DPL,R2
        MOV     DPH,R3
        MOVX    A,@DPTR
        MOV     R0,A
        INC     DPTR
        MOVX    A,@DPTR
        MOV     R1,A
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,R0
        MOVX    @DPTR,A
        INC     DPTR
        MOV     A,R1
        MOVX    @DPTR,A
//  638         emPacket.appData.data = aData->data;
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        INC     DPTR
        LCALL   ?XLOAD_R4567
        MOV     A,#0x3
        LCALL   ?XSTACK_DISP0_8
        LCALL   ?XSTORE_R4567
//  639         emPacket.appData.packNum = aData->packNum;
        MOV     DPL,R2
        MOV     DPH,R3
        INC     DPTR
        INC     DPTR
        MOVX    A,@DPTR
        PUSH    A
          CFI CFA_SP SP+-1
        MOV     A,#0x2
        LCALL   ?XSTACK_DISP0_8
        POP     A
          CFI CFA_SP SP+0
        MOVX    @DPTR,A
//  640         emPacket.timeStamp = 0;
        MOV     A,#0x7
        LCALL   ?XSTACK_DISP0_8
        CLR     A
        MOVX    @DPTR,A
//  641 	emPacket.checkSum = checksum(&emPacket);
        MOV     R2,#0x0
        MOV     R0,?XSP + 0
        MOV     R1,?XSP + 1
??dllDataRequest_0:
        MOV     DPL,R0
        MOV     DPH,R1
        MOVX    A,@DPTR
        XCH     A,R2
        XRL     A,R2
        MOV     R2,A
        INC     DPTR
        MOV     R0,DPL
        MOV     R1,DPH
        MOV     A,#0x8
        LCALL   ?XSTACK_DISP0_8
        MOV     A,DPL
        XRL     A,R0
        JNZ     ??dllDataRequest_1
        MOV     A,DPH
        XRL     A,R1
??dllDataRequest_1:
        JNZ     ??dllDataRequest_0
        MOV     A,R2
        MOVX    @DPTR,A
//  642         
//  643         //txBuffer = (uint8 *)uiTxBufferCC2530;
//  644         //cTxBuffer = &cTxBufferCC2530;
//  645         //txBuffer = (uint8 *)uiTxBufferCC2530;
//  646         //txIndex = &txBufferCC2530Index;
//  647 	// ako bude bilo potrebe za slanjem vremenskog trenutka
//  648 	// radi iscrtavanja grafa obezbjedicemo mehanizam, inace
//  649 	// timeStamp = 0
//  650 	/*
//  651         iSignalID = (int)getSignalID(emPacket.appData.devID);
//  652 	iData = (int)emPacket.appData.data;
//  653 	iPackNum = (int)emPacket.appData.packNum;
//  654 	iTimeStamp = (int)emPacket.timeStamp;
//  655 	iCheckSum = (int)emPacket.checkSum;
//  656         */
//  657         /*
//  658         iSignalID = (unsigned)getSignalID(emPacket.appData.devID);
//  659 	iData = (unsigned)emPacket.appData.data;
//  660 	iPackNum = (unsigned)emPacket.appData.packNum;
//  661 	iTimeStamp = (unsigned)emPacket.timeStamp;
//  662 	iCheckSum = (unsigned)emPacket.checkSum;
//  663         */
//  664         
//  665 	 //HalLcdWriteString("Miso----------------------",0);
//  666         /*
//  667         txBufferCC2530Index = sprintf(uiTxBufferCC2530,
//  668                                       ">#%d,#%c,#%l,#%c,#%c",
//  669                                       getSignalID(emPacket.appData.devID),
//  670                                       emPacket.appData.packNum,
//  671                                       emPacket.appData.data,
//  672                                       emPacket.timeStamp,
//  673                                       emPacket.checkSum
//  674                                       );
//  675         */
//  676         /*
//  677         txBufferCC2530Index = sprintf(uiTxBufferCC2530,
//  678                                       ">#%d,#%d,#%d,#%d,#%d",
//  679                                       iSignalID,
//  680                                       iPackNum,
//  681                                       iData,
//  682                                       iTimeStamp,
//  683                                       iCheckSum
//  684                                       );
//  685         */
//  686         packFrameToStell((uint8 *)uiTxBufferCC2530, emPacket);
        ; Setup parameters for call to function packFrameToStell
        MOV     DPL,?XSP + 0
        MOV     DPH,?XSP + 1
        MOV     A,#0x9
        LCALL   ?PUSH_XSTACK8_X
          CFI CFA_XSP16 add(XSP16, 28)
        MOV     R2,#uiTxBufferCC2530 & 0xff
        MOV     R3,#(uiTxBufferCC2530 >> 8) & 0xff
        LCALL   `??packFrameToStell::?relay`; Banked call to: packFrameToStell
        MOV     A,#0x9
        LCALL   ?DEALLOC_XSTACK8
          CFI CFA_XSP16 add(XSP16, 19)
//  687         //array2circular(cTxBuffer, txBuffer, *txIndex);
//  688         
//  689         /*HalLcdWriteString("Velicina je:",0);
//  690         uartSend(sizeof(uint32)+'0');
//  691         HalLcdWriteString("",0);
//  692         HalLcdWriteString("Velicina je:",0);
//  693         */
//  694         //halUARTWrite(cTxBuffer, 0);
//  695         //HalLcdWriteString("Miso----------------------",0); 
//  696         
//  697        // halUARTWrite(port, cTxBuffer, 0);
//  698         HalLcdWriteString(uiTxBufferCC2530, 0);
        ; Setup parameters for call to function HalLcdWriteString
        MOV     R1,#0x0
        MOV     R2,#uiTxBufferCC2530 & 0xff
        MOV     R3,#(uiTxBufferCC2530 >> 8) & 0xff
        LCALL   `??HalLcdWriteString::?relay`; Banked call to: HalLcdWriteString
//  699         //HalLcdWriteString(uiTxBufferCC2530, 0);
//  700         
//  701 	emFlagCC2530 = EMISSION_START;
        MOV     DPTR,#emFlagCC2530
        MOV     A,#0x1
        MOVX    @DPTR,A
//  702 	
//  703 	//idde = emPacket.appData.devID;//
//  704         
//  705         //idde = aData->devID;
//  706         
//  707         //idde = (uint16)getSignalID(emPacket.appData.devID);//+ 0x30;
//  708         
//  709         //idde = aData->devID;
//  710         //idde = aData.devID;
//  711         
//  712         //id = (char*)&emPacket.appData.data;
//  713         //id = (char*)&emPacket.appData.devID;
//  714         
//  715         //da = emPacket.appData.data;
//  716         
//  717         //num = emPacket.timeStamp + 0x30;
//  718        // num = emPacket.appData.packNum + 0x30;
//  719         //num = emPacket.checkSum + 0x30;
//  720         
//  721         //id = (char*)&idde;
//  722         //id = (char*)&da;
//  723         //id = (char*)&num;
//  724         
//  725         //id[0] += 0x30;
//  726         //id[1] += 0x30;
//  727         
//  728         //id[2] = '\0';
//  729         //id[1] = '\0';
//  730         //id[4] = '\0';
//  731         
//  732         //HalLcdWriteString("-----------------------------Borislav----------------------",0);
//  733         //HalLcdWriteString(id,0);
//  734         //uartSend(emPacket.checkSum+'0');
//  735         //HalLcdWriteString("", 0);
//  736         //HalLcdWriteString("-----------------------------Borislav----------------------",0);
//  737 
//  738 }
        MOV     A,#0x9
        LJMP    ?Subroutine1 & 0xFFFF
          CFI EndBlock cfiBlock39

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??dllInit::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    dllInit

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??CallBackRegister::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    CallBackRegister

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??processFrameRx::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    processFrameRx

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??packFrameToStell::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    packFrameToStell

        RSEG BANK_RELAYS:CODE:REORDER:NOROOT(0)
`??dllDataRequest::?relay`:
        CODE
        LCALL   ?BDISPATCH
        DATA24
        DC24    dllDataRequest

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA8
`?<Constant "%*[^0123456789]%d%*[^...">`:
        DB 25H, 2AH, 5BH, 5EH, 30H, 31H, 32H, 33H
        DB 34H, 35H, 36H, 37H, 38H, 39H, 5DH, 25H
        DB 64H, 25H, 2AH, 5BH, 5EH, 30H, 31H, 32H
        DB 33H, 34H, 35H, 36H, 37H, 38H, 39H, 5DH
        DB 25H, 64H, 25H, 2AH, 5BH, 5EH, 30H, 31H
        DB 32H, 33H, 34H, 35H, 36H, 37H, 38H, 39H
        DB 5DH, 25H, 64H, 25H, 2AH, 5BH, 5EH, 30H
        DB 31H, 32H, 33H, 34H, 35H, 36H, 37H, 38H
        DB 39H, 5DH, 25H, 64H, 25H, 2AH, 5BH, 5EH
        DB 30H, 31H, 32H, 33H, 34H, 35H, 36H, 37H
        DB 38H, 39H, 5DH, 25H, 64H, 0

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
`?<Constant {48, 48, 48, 48}>`:
        DATA8
        DB 48
        DB 48
        DB 48
        DB 48

        RSEG XDATA_ROM_C:CONST:REORDER:NOROOT(0)
        DATA32
`?<Constant {48, 48, 48, 48}>_1`:
        DATA8
        DB 48
        DB 48
        DB 48
        DB 48

        END
// 
//   911 bytes in segment BANKED_CODE
//    30 bytes in segment BANK_RELAYS
//   112 bytes in segment XDATA_ROM_C
// 1 308 bytes in segment XDATA_Z
// 
//    30 bytes of CODE     memory
//   112 bytes of CONST    memory
//   911 bytes of HUGECODE memory
// 1 308 bytes of XDATA    memory
//
//Errors: none
//Warnings: none
