###############################################################################
#
# IAR C/C++ Compiler V9.30.3.3983 for 8051                03/May/2017  16:53:08
# Copyright 2004-2016 IAR Systems AB.
# Evaluation license - IAR Embedded Workbench for 8051, Evaluation version 9.30
#
#    Core               =  plain
#    Code model         =  banked
#    Data model         =  large
#    Calling convention =  xdata reentrant
#    Constant location  =  data_rom
#    Dptr setup         =  1,16
#                          
#    Source file        =  
#        C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Components\dll\src\dll.c
#    Command line       =  
#        -f "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wCoord.cfg"
#        (-DCPU32MHZ -DROOT=__near_func -DMAC_CFG_APP_PENDING_QUEUE=TRUE
#        -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8 -DMAC_CFG_RX_MAX=5
#        -DZDO_COORDINATOR -DRTR_NWK) -f "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConfig.cfg"
#        (-DZIGBEEPRO -DSECURE=1 -DZG_SECURE_DYNAMIC=0 -DREFLECTOR
#        -DDEFAULT_CHANLIST=0x00000800 -DZDAPP_CONFIG_PAN_ID=0x0422
#        -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MASK=0x007F
#        -DBEACON_REQUEST_DELAY=100 -DBEACON_REQ_DELAY_MASK=0x00FF
#        -DLINK_STATUS_JITTER_MASK=0x007F -DROUTE_EXPIRY_TIME=30
#        -DAPSC_ACK_WAIT_DURATION_POLLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7
#        -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3
#        -DNWK_MAX_DATA_RETRIES=2 -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9
#        -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40 -DNWK_MAX_BINDING_ENTRIES=4
#        -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01, 0x03, 0x05, 0x07,
#        0x09, 0x0B, 0x0D, 0x0F, 0x00, 0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C,
#        0x0D}" -DMAC_MAX_FRAME_SIZE=116 -DZDNWKMGR_MIN_TRANSMISSIONS=20
#        "-DCONST=const __code" -DGENERIC=__generic -DRFD_RCVC_ALWAYS_ON=FALSE
#        -DPOLL_RATE=1000 -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)
#        -DREJOIN_POLL_RATE=440 "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Components\dll\src\dll.c" -D ZTOOL_P1 -D
#        MT_TASK -D MT_SYS_FUNC -D MT_ZDO_FUNC -D LCD_SUPPORTED=DEBUG -lC
#        "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
#        -lA "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List"
#        --diag_suppress Pe001,Pa010 -o "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\Obj"
#        -e --no_code_motion --debug --core=plain --dptr=16,1
#        --data_model=large --code_model=banked
#        --calling_convention=xdata_reentrant --place_constants=data_rom
#        --nr_virtual_regs 16 -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\Source\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\ZMain\TI2530DB\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\include\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\hal\target\CC2530EB\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\include\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\high_level\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mac\low_level\srf04\single_chip\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\mt\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\osal\include\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\saddr\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\services\sdata\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\af\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\nwk\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sapi\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sec\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\sys\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\stack\zdo\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\zmac\f8w\"
#        -I "C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\..\..\..\..\..\Components\dll\"
#        -Ohz --require_prototypes
#    List file          =  
#        C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\List\dll.lst
#    Object file        =  
#        C:\Users\ljuic\Desktop\New
#        folder\ZigBeeCoordinator\Projects\zstack\Samples\GenericApp\CC2530DB\CoordinatorEB\Obj\dll.r51
#
###############################################################################

C:\Users\ljuic\Desktop\New folder\ZigBeeCoordinator\Components\dll\src\dll.c
      1          #include "includes/dll.h"
      2          //#include "hal/includes/hal_gpio.h"
      3          #include "includes/defines.h"
      4          #include "hal_uart.h"
      5          #include "includes/circular_buffer.h"
      6          
      7          #include "hal_lcd.h"
      8          #include "OnBoard.h"
      9          //#include <stdlib.h>
     10          //#include "stdlib.h"
     11          //#include "cmsis_os.h"
     12          
     13          #include <stdio.h>
     14          //#include <stdint.h>
     15          //#include <stdlib.h>
     16          #include "hal_types.h"
     17          //*****************************************************************************
     18          //
     19          // A mapping of devices IDs to signal_id number.
     20          //
     21          //*****************************************************************************

   \                                 In  segment XDATA_ROM_C, align 1
     22          static const uint16 signalID[] = {
   \                     signalID:
   \   000000   5432         DW 12884
   \   000002   1211         DW 4370
   \   000004   5032         DW 12880
   \   000006   1411         DW 4372
   \   000008   4832         DW 12872
   \   00000A   1611         DW 4374
   \   00000C   1711         DW 4375
   \   00000E   1811         DW 4376
   \   000010   1911         DW 4377
     23                                            TEMP_SENSOR_INSIDE,
     24                                            TEMP_SENSOR_OUTSIDE,
     25                                            PRESSURE_SENSOR_INSIDE,
     26                                            PRESSURE_SENSOR_OUTSIDE,
     27                                            HUMIDITY_SENSOR_INSIDE,
     28                                            HUMIDITY_SENSOR_OUTSIDE,
     29                                            DOOR,
     30                                            WINDOW,
     31                                            MOTION_SENSOR
     32                                            };
     33          
     34          
     35          
     36          
     37          //*****************************************************************************
     38          //
     39          // Internal/local functions
     40          // \just defining functionality/
     41          //
     42          //*****************************************************************************
     43          static uint8 getSignalID(const uint16 devicesAddress);
     44          static uint8 checksum(DLLPacket_t *frame);
     45          
     46          //static uint8 processFrameRx(uint8 *frame, uint8 len, uint16 Address);
     47          //static uint8 devAddressSupport(uint16 devAddress);
     48          
     49          
     50          //static uint8 halUARTWrite(CircularBuffer_t *txBuffer, uint8 len);
     51          static void packFrameToStell(uint8 *buff, DLLPacket_t emPacket);
     52          //*****************************************************************************
     53          //
     54          // CMSIS-RTOS tread definition and tread  function declaration
     55          //
     56          //*****************************************************************************
     57          /*
     58          void communicationThread(void const *arg);
     59          osThreadId tID_PC_Communication;
     60          osThreadId tID_CC2530_Communication;
     61          */
     62          
     63          //*****************************************************************************
     64          //
     65          // Extern variables
     66          //
     67          // treba promijeniti naziv ova dva bafera u circularBuffer.h
     68          //
     69          //*****************************************************************************

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     70          CircularBuffer_t rxBufferPC;
   \                     rxBufferPC:
   \   000000                DS 260
   \   000104                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     71          CircularBuffer_t rxBufferCC2530;
   \                     rxBufferCC2530:
   \   000000                DS 260
   \   000104                REQUIRE __INIT_XDATA_Z
     72          
     73          //halUARTCfg_t uartConfig;
     74          //*****************************************************************************
     75          //
     76          // Local variables
     77          //
     78          //*****************************************************************************
     79          //DLLState_t statePC;

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     80          DLLState_t stateCC2530;
   \                     stateCC2530:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     81          //uint8 emFlagPC;

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     82          uint8 emFlagCC2530;
   \                     emFlagCC2530:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     83          
     84          //char uiTxBufferPC[MAX_BUFFER_LENGHT];
     85          //uint8 uiRxBufferPC[MAX_BUFFER_LENGHT];
     86          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     87          char uiTxBufferCC2530[MAX_BUFFER_LENGHT];
   \                     uiTxBufferCC2530:
   \   000000                DS 256
   \   000100                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     88          uint8 uiRxBufferCC2530[MAX_BUFFER_LENGHT];
   \                     uiRxBufferCC2530:
   \   000000                DS 256
   \   000100                REQUIRE __INIT_XDATA_Z
     89          
     90          //uint8 rxBufferPCIndex;
     91          //uint8 txBufferPCIndex;
     92          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     93          uint8 rxBufferCC2530Index;
   \                     rxBufferCC2530Index:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     94          uint8 txBufferCC2530Index;
   \                     txBufferCC2530Index:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     95          
     96          //uint8 tmpPC;

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     97          uint8 tmpCC2530;
   \                     tmpCC2530:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
     98          
     99          //CircularBuffer_t cTxBufferPC;

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    100          CircularBuffer_t cTxBufferCC2530;
   \                     cTxBufferCC2530:
   \   000000                DS 260
   \   000104                REQUIRE __INIT_XDATA_Z
    101          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    102          DLLPacket_t recPack;
   \                     recPack:
   \   000000                DS 9
   \   000009                REQUIRE __INIT_XDATA_Z
    103          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    104          static CallBack_t callBack;
   \                     callBack:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    105          
    106          //*****************************************************************************
    107          //
    108          // Function definition
    109          //
    110          //*****************************************************************************
    111          
    112          //*****************************************************************************
    113          //
    114          //! Data link layer initialization function
    115          //!
    116          //! This function initializes states and indexes,
    117          //! configures communication ports, one of \b PC or \b CC2530 and their
    118          //! baudrates, one of \b BAUDRATE_PC \b BAUDRATE_CC2530. Creates two threads
    119          //! for communication wia UART interface.
    120          //!
    121          //! \return None.
    122          //
    123          //*****************************************************************************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    124          void dllInit(void)
   \                     dllInit:
    125          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    126          	//osThreadDef(communicationThread, osPriorityHigh, 2, 0);
    127          
    128          	//uint8 portPC = PC;
    129          	//uint8 portCC2530 = CC2530;
    130          
    131          	//statePC = IDLE;
    132          	stateCC2530 = IDLE;
   \   000004   90....       MOV     DPTR,#stateCC2530
   \   000007   E4           CLR     A
   \   000008   F0           MOVX    @DPTR,A
    133          	//rxBufferPCIndex = 0;
    134          	//txBufferPCIndex = 0;
    135          	rxBufferCC2530Index = 0;
   \   000009   90....       MOV     DPTR,#rxBufferCC2530Index
   \   00000C   F0           MOVX    @DPTR,A
    136          	txBufferCC2530Index = 0;
   \   00000D   90....       MOV     DPTR,#txBufferCC2530Index
   \   000010   F0           MOVX    @DPTR,A
    137          
    138          	//circularInit(&cTxBufferPC);
    139          	circularInit(&cTxBufferCC2530);
   \   000011                ; Setup parameters for call to function circularInit
   \   000011   7A..         MOV     R2,#cTxBufferCC2530 & 0xff
   \   000013   7B..         MOV     R3,#(cTxBufferCC2530 >> 8) & 0xff
   \   000015   12....       LCALL   `??circularInit::?relay`; Banked call to: circularInit
    140                  
    141                 // HalUARTClose(HAL_UART_PORT_1);
    142                  //HalUARTOpen(HAL_UART_PORT_1, &uartConfig);
    143                  
    144                  /*CircularBuffer_t *cRxBuffer;
    145          	CircularBuffer_t *cTxBuffer;
    146                  cRxBuffer = &rxBufferCC2530;
    147                  cTxBuffer = &cTxBufferCC2530;
    148                  */
    149               /*   
    150                  
    151                  uint8 port  = *(uint8 *)(arg);
    152          	uint8 *tmp;
    153          	uint8 *rxBuffer;
    154                  uint8 *txBuffer;
    155          	uint8 *txIndex;
    156          	uint8 *rxIndex;
    157          	uint8 *emFlag;
    158          	DLLState_t *state;
    159          	CircularBuffer_t *cRxBuffer;
    160          	CircularBuffer_t *cTxBuffer;
    161                  
    162                  tmp = &tmpCC2530;
    163                  state = &stateCC2530;
    164                  txBuffer = (uint8 *)uiTxBufferCC2530;
    165                  rxBuffer = uiRxBufferCC2530;
    166                  txIndex = &txBufferCC2530Index;
    167                  rxIndex = &rxBufferCC2530Index;
    168                  emFlag = &emFlagCC2530;
    169                  cRxBuffer = &rxBufferCC2530;
    170                  cTxBuffer = &cTxBufferCC2530;
    171          */
    172          	//halUARTOpenPort(PC, BAUDRATE_PC , 1, 0);
    173          	//halUARTOpenPort(CC2530, BAUDRATE_CC2530, 1, 0);
    174                  
    175                  
    176                  ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    177                  // Ovdje treba initUart
    178                  ////////////////////////////////////////////////////////////////////////////////////////////////////////////
    179          
    180          	//tID_PC_Communication = osThreadCreate( osThread(communicationThread), (void *)(&portPC));
    181          	//tID_CC2530_Communication = osThreadCreate( osThread(communicationThread), (void *)(&portCC2530));
    182          }
   \   000018                REQUIRE ?Subroutine0
   \   000018                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    183          
    184          //*****************************************************************************
    185          //
    186          //! Register callback function.
    187          //!
    188          //! \param cb is pointer on the function.
    189          //!
    190          //! \return None.
    191          //
    192          //*****************************************************************************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    193          void CallBackRegister(CallBack_t cb)
   \                     CallBackRegister:
    194          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    195          	callBack = cb;
   \   000004   90....       MOV     DPTR,#callBack
   \   000007   EA           MOV     A,R2
   \   000008   F0           MOVX    @DPTR,A
   \   000009   A3           INC     DPTR
   \   00000A   EB           MOV     A,R3
   \   00000B   F0           MOVX    @DPTR,A
    196          }
   \   00000C   80..         SJMP    ?Subroutine0
    197          
    198          //*****************************************************************************
    199          //
    200          //! Function handles comminucation. Handles RX or TX on active ports.
    201          //!
    202          //! \param arg is pointer on port.
    203          //!
    204          //! This function sends data from app layer forward and delivers data to app
    205          //! layer.
    206          //!
    207          //! \return None.
    208          //
    209          //*****************************************************************************
    210          /*
    211          void communicationThread(void const *arg)
    212          {
    213          	uint8 port  = *(uint8 *)(arg);
    214          	uint8 *tmp;
    215          	uint8 *rxBuffer;
    216                  uint8 *txBuffer;
    217          	uint8 *txIndex;
    218          	uint8 *rxIndex;
    219          	uint8 *emFlag;
    220          	DLLState_t *state;
    221          	CircularBuffer_t *cRxBuffer;
    222          	CircularBuffer_t *cTxBuffer;
    223          
    224          	if (PC == port)
    225          	{
    226          		tmp = &tmpPC;
    227          		state = &statePC;
    228          		txBuffer = (uint8 *)uiTxBufferPC;
    229          		rxBuffer = uiRxBufferPC;
    230          		txIndex = &txBufferPCIndex;
    231          		rxIndex = &rxBufferPCIndex;
    232          		emFlag = &emFlagPC;
    233          		cRxBuffer = &rxBufferPC;
    234          		cTxBuffer = &cTxBufferPC;
    235          	}
    236          	else if (CC2530 == port)
    237          	{
    238            	tmp = &tmpCC2530;
    239          		state = &stateCC2530;
    240          		txBuffer = (uint8 *)uiTxBufferCC2530;
    241          		rxBuffer = uiRxBufferCC2530;
    242          		txIndex = &txBufferCC2530Index;
    243          		rxIndex = &rxBufferCC2530Index;
    244          		emFlag = &emFlagCC2530;
    245          		cRxBuffer = &rxBufferCC2530;
    246          		cTxBuffer = &cTxBufferCC2530;
    247          	}
    248          
    249          	while (1)
    250          	{
    251          		osDelay(10);
    252          		switch ((*state))
    253          		{
    254          			case IDLE:
    255          				if (circularGet(cRxBuffer, tmp))	//zastita!!!
    256          				{
    257          					if (START_DELIMITER == (*tmp))
    258          					{
    259          						*rxIndex = 0;
    260          						*state = RECEPTION;
    261          					}
    262          					else
    263          					{
    264          						*state = IDLE;
    265          
    266          					}
    267          				}
    268          				else if (EMISSION_START == (*emFlag))
    269          				{
    270          					*state = EMISSION;
    271          				}
    272          
    273          				else
    274          				{
    275          					*state = IDLE;
    276          
    277          				}
    278          				break;
    279          			case RECEPTION:
    280          				do
    281          				{
    282          					if (circularGet(cRxBuffer, tmp)) // zastita!!!
    283          					{
    284          						if (START_DELIMITER == (*tmp))
    285          						{
    286          							*rxIndex = 0;
    287          						}
    288          						else
    289          						{
    290          							rxBuffer[(*rxIndex)++] = *tmp;
    291          						}
    292          					}
    293          				} while(STOP_DELIMITER != *tmp);
    294          				*state = IDLE;				//
    295          				processFrameRx(rxBuffer, *rxIndex, port);
    296          			break;
    297          			case EMISSION:
    298          				array2circular(cTxBuffer, txBuffer, *txIndex);
    299          				halUARTWrite(port, cTxBuffer, 0);
    300          				*txIndex = 0;
    301          				*state = IDLE;
    302          			break;
    303          			default:
    304          				// error state!!!
    305          			break;
    306          		}
    307          	}
    308          }
    309          */
    310          //*****************************************************************************
    311          //
    312          //! Get the signal ID.
    313          //!
    314          //! \param deviceAddress is device address.
    315          //!
    316          //! For given a device address, this function returns the corresponding
    317          //! signal ID.
    318          //!
    319          //! \return Returns signal ID, or -1 if \e deviceAddress is not supported.
    320          //
    321          //*****************************************************************************
    322          static uint8 getSignalID(const uint16 deviceAddress)
    323          {
    324          	uint8 i;
    325                  //uint8 j;
    326                  char *id;
    327                  //char idde;
    328                  uint16 idde;
    329                  
    330          	uint8 retVal = 255;
    331          	for (i = 0; i < sizeof(signalID); i+=2)
    332          	{
    333                      
    334          		if (deviceAddress == signalID[i])
    335          		{
    336          			retVal = i;
    337                                  
    338                                  
    339          		}
    340                          //idde = deviceAddress;//i + 0x30;//signalID[i];
    341                          idde = signalID[i];//i + 0x30;//signalID[i];
    342                          id = (char*)&idde;
    343                          //id[0] = idde;
    344                         // id[1] = '\0';
    345                          id[2] = '\0';
    346                          //HalLcdWriteString("-----------------------------SignalID----------------------",0);
    347                         // HalLcdWriteString(id,0);
    348                          /*for(j=0;j<3;j++)
    349                          {
    350                            uartSend(*(id + j));
    351                            
    352                          }*/
    353                          //HalLcdWriteString("-----------------------------SignalID----------------------",0);
    354                          idde = deviceAddress;//i + 0x30;
    355                          //signalID[i];id = (char*)&idde;
    356                          //HalLcdWriteString("-----------------------------deviceAddress----------------------",0);
    357                          //HalLcdWriteString(id,0);
    358                          /*for(j=0;j<3;j++)
    359                          {
    360                            uartSend(*(id + j));
    361                            
    362                          }*/
    363                          //HalLcdWriteString("-----------------------------deviceAddress----------------------",0);
    364          	}
    365          	return retVal;
    366          }
    367          
    368          //*****************************************************************************
    369          //
    370          //! Process received data.
    371          //!
    372          //! \param frame is pointer on the received frame.
    373          //! \param len is lenght of received frame.
    374          //! \param port is number of port.
    375          //!
    376          //! Function process received frame, converts, checks checksum and validation
    377          //! of signal ID (supported devices)
    378          //!
    379          //! \return Returns signal ID, or -1 if \e deviceAddress is not supported.
    380          //
    381          //*****************************************************************************

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    382          uint16 processFrameRx(uint8 *frame)
   \                     processFrameRx:
    383          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    384          	Data_t *cbData;
    385          	int iSignalID;
    386          	int iData;
    387          	int iPackNum;
    388          	int iTimeStamp;
    389          	int iCheckSum;
    390          	sscanf((char *)frame, 
    391                         "%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d%*[^0123456789]%d",
    392                                 &iSignalID,
    393                                 &iPackNum,
    394                                 &iData,
    395                                 &iTimeStamp,
    396                                 &iCheckSum
    397                                 );
   \   00000A                ; Setup parameters for call to function sscanf
   \   00000A   A8..         MOV     R0,?XSP + 0
   \   00000C   A9..         MOV     R1,?XSP + 1
   \   00000E   88..         MOV     ?V0,R0
   \   000010   89..         MOV     ?V1,R1
   \   000012   78..         MOV     R0,#?V0
   \   000014   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000017   7404         MOV     A,#0x4
   \   000019   12....       LCALL   ?XSTACK_DISP100_8
   \   00001C   88..         MOV     ?V0,R0
   \   00001E   89..         MOV     ?V1,R1
   \   000020   78..         MOV     R0,#?V0
   \   000022   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000025   740A         MOV     A,#0xa
   \   000027   12....       LCALL   ?XSTACK_DISP100_8
   \   00002A   88..         MOV     ?V0,R0
   \   00002C   89..         MOV     ?V1,R1
   \   00002E   78..         MOV     R0,#?V0
   \   000030   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000033   740A         MOV     A,#0xa
   \   000035   12....       LCALL   ?XSTACK_DISP100_8
   \   000038   88..         MOV     ?V0,R0
   \   00003A   89..         MOV     ?V1,R1
   \   00003C   78..         MOV     R0,#?V0
   \   00003E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000041   7410         MOV     A,#0x10
   \   000043   12....       LCALL   ?XSTACK_DISP100_8
   \   000046   88..         MOV     ?V0,R0
   \   000048   89..         MOV     ?V1,R1
   \   00004A   78..         MOV     R0,#?V0
   \   00004C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00004F   7C..         MOV     R4,#`?<Constant "%*[^0123456789]%d%*[^...">` & 0xff
   \   000051   7D..         MOV     R5,#(`?<Constant "%*[^0123456789]%d%*[^...">` >> 8) & 0xff
   \   000053   12....       LCALL   `??sscanf::?relay`   ; Banked call to: sscanf
   \   000056   740A         MOV     A,#0xa
   \   000058   12....       LCALL   ?DEALLOC_XSTACK8
    398          	recPack.appData.devID = signalID[iSignalID];
   \   00005B   7408         MOV     A,#0x8
   \   00005D   12....       LCALL   ?XSTACK_DISP0_8
   \   000060   E0           MOVX    A,@DPTR
   \   000061   F8           MOV     R0,A
   \   000062   A3           INC     DPTR
   \   000063   E0           MOVX    A,@DPTR
   \   000064   F9           MOV     R1,A
   \   000065   E8           MOV     A,R0
   \   000066   28           ADD     A,R0
   \   000067   F8           MOV     R0,A
   \   000068   E9           MOV     A,R1
   \   000069   33           RLC     A
   \   00006A   F9           MOV     R1,A
   \   00006B   74..         MOV     A,#signalID & 0xff
   \   00006D   28           ADD     A,R0
   \   00006E   F582         MOV     DPL,A
   \   000070   74..         MOV     A,#(signalID >> 8) & 0xff
   \   000072   39           ADDC    A,R1
   \   000073   F583         MOV     DPH,A
   \   000075   E0           MOVX    A,@DPTR
   \   000076   F8           MOV     R0,A
   \   000077   A3           INC     DPTR
   \   000078   E0           MOVX    A,@DPTR
   \   000079   F9           MOV     R1,A
   \   00007A   90....       MOV     DPTR,#recPack
   \   00007D   E8           MOV     A,R0
   \   00007E   F0           MOVX    @DPTR,A
   \   00007F   A3           INC     DPTR
   \   000080   E9           MOV     A,R1
   \   000081   F0           MOVX    @DPTR,A
    399          	recPack.appData.packNum = (uint32)iPackNum & 0xff;
   \   000082   7404         MOV     A,#0x4
   \   000084   12....       LCALL   ?XSTACK_DISP0_8
   \   000087   E0           MOVX    A,@DPTR
   \   000088   90....       MOV     DPTR,#recPack + 2
   \   00008B   F0           MOVX    @DPTR,A
    400          	recPack.appData.data = (uint32)iData & 0xffffffff;
   \   00008C   7406         MOV     A,#0x6
   \   00008E   12....       LCALL   ?XSTACK_DISP0_8
   \   000091   E0           MOVX    A,@DPTR
   \   000092   FC           MOV     R4,A
   \   000093   A3           INC     DPTR
   \   000094   E0           MOVX    A,@DPTR
   \   000095   FD           MOV     R5,A
   \   000096   33           RLC     A
   \   000097   95E0         SUBB    A,0xE0 /* A   */
   \   000099   FE           MOV     R6,A
   \   00009A   90....       MOV     DPTR,#recPack + 3
   \   00009D   EC           MOV     A,R4
   \   00009E   F0           MOVX    @DPTR,A
   \   00009F   A3           INC     DPTR
   \   0000A0   ED           MOV     A,R5
   \   0000A1   F0           MOVX    @DPTR,A
   \   0000A2   A3           INC     DPTR
   \   0000A3   EE           MOV     A,R6
   \   0000A4   F0           MOVX    @DPTR,A
   \   0000A5   A3           INC     DPTR
   \   0000A6   F0           MOVX    @DPTR,A
    401          	recPack.timeStamp = (uint32)iTimeStamp & 0xff;
   \   0000A7   7402         MOV     A,#0x2
   \   0000A9   12....       LCALL   ?XSTACK_DISP0_8
   \   0000AC   E0           MOVX    A,@DPTR
   \   0000AD   90....       MOV     DPTR,#recPack + 7
   \   0000B0   F0           MOVX    @DPTR,A
    402          	recPack.checkSum = (uint32)iCheckSum & 0xff;
   \   0000B1   85..82       MOV     DPL,?XSP + 0
   \   0000B4   85..83       MOV     DPH,?XSP + 1
   \   0000B7   E0           MOVX    A,@DPTR
   \   0000B8   90....       MOV     DPTR,#recPack + 8
   \   0000BB   F0           MOVX    @DPTR,A
    403          
    404          	cbData = (struct sData *)(&recPack);
    405          
    406          
    407          //if (checksum(recPack) == recPack->checkSum)
    408          //{
    409          //	if (devAddressSupport(recPack->appData.devID))
    410          //	{
    411          			callBack(cbData);
   \   0000BC                ; Setup parameters for indirect call
   \   0000BC   7A..         MOV     R2,#recPack & 0xff
   \   0000BE   7B..         MOV     R3,#(recPack >> 8) & 0xff
   \   0000C0   90....       MOV     DPTR,#callBack
   \   0000C3   E0           MOVX    A,@DPTR
   \   0000C4   F8           MOV     R0,A
   \   0000C5   A3           INC     DPTR
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   F583         MOV     DPH,A
   \   0000C9   8882         MOV     DPL,R0
   \   0000CB   12....       LCALL   ?CALL_IND
    412          
    413          //	}
    414          		//return 1;
    415                          return recPack.appData.devID;
   \   0000CE   90....       MOV     DPTR,#recPack
   \   0000D1   E0           MOVX    A,@DPTR
   \   0000D2   FA           MOV     R2,A
   \   0000D3   A3           INC     DPTR
   \   0000D4   E0           MOVX    A,@DPTR
   \   0000D5   FB           MOV     R3,A
   \   0000D6   740A         MOV     A,#0xa
   \   0000D8                REQUIRE ?Subroutine1
   \   0000D8                ; // Fall through to label ?Subroutine1
    416          //}
    417          //else
    418          //{
    419          //	error_checkSum();
    420          //	recPack = NULL;
    421          //	return 0;
    422          //}
    423          
    424          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F02         MOV     R7,#0x2
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA
    425          
    426          
    427          //*****************************************************************************
    428          //
    429          //! Calculating checksum.
    430          //!
    431          //! \param frame is pointer on frame on which one is needed to calculated.
    432          //!
    433          //! Function caluculates checksum executing XOR operation on evert member of
    434          //! \b frame.
    435          //!
    436          //! \return Returns result of sumary operation.
    437          //
    438          //*****************************************************************************
    439          static uint8 checksum(DLLPacket_t *frame)
    440          {
    441          	uint8 sum  = 0x00;
    442          	uint8 *ptr = (uint8 *)(frame);
    443          	uint8 *end = &frame->checkSum;
    444          	while(ptr != end)
    445          	{
    446          		sum ^= *ptr;
    447          		ptr++;
    448          	}
    449          
    450          	return sum;
    451          
    452          }
    453          
    454          //*****************************************************************************
    455          //
    456          //! Checks a devices address.
    457          //!
    458          //! \param devAddress is device address.
    459          //!
    460          //! This function determines if a device address is supported.
    461          //!
    462          //! \return Returns \b true if address is supported, or \b false otherwise.
    463          //
    464          //*****************************************************************************
    465          /*
    466          static uint8 devAddressSupport(uint16 devAddress)
    467          {
    468          	return( (devAddress == TEMP_SENSOR_INSIDE) ||
    469          					(devAddress == TEMP_SENSOR_OUTSIDE) ||
    470          					(devAddress == PRESSURE_SENSOR_INSIDE) ||
    471           					(devAddress == PRESSURE_SENSOR_OUTSIDE) ||
    472          					(devAddress == HUMIDITY_SENSOR_INSIDE) ||
    473          					(devAddress == HUMIDITY_SENSOR_OUTSIDE) ||
    474          					(devAddress == DOOR) ||
    475          					(devAddress == WINDOW) ||
    476          					(devAddress == MOTION_SENSOR)
    477          					);
    478          }
    479          */
    480          //*****************************************************************************
    481          //
    482          //! Function that handles data services.
    483          //!
    484          //! \param aData is pointer on data structure.
    485          //! \param port indicates port number.
    486          //!
    487          //! This function prepare data to be ready to send and sets state flag to
    488          //! signals the thread to perform an action.
    489          //!
    490          //! \return None.
    491          //
    492          //*****************************************************************************
    493          /*
    494          static uint8 halUARTWrite(CircularBuffer_t *txBuffer, uint8 len)
    495          {
    496          	uint8 cnt = 0;
    497          	uint8 i;
    498          	uint8 data;
    499          
    500          	if (0 == len)
    501          	{
    502          		while(!circularIsEmpty(txBuffer))
    503          		{
    504          			circularGet(txBuffer, &data);
    505                                  uartSend(data);
    506          			cnt++;
    507          
    508          		}// end while
    509          	}// end if
    510          
    511          	else if (len < circularSize(txBuffer))
    512          	{
    513          		for (i = 0; i < len; i++)
    514          		{
    515          			circularGet(txBuffer, &data);
    516          			uartSend(data);
    517          		}// end for
    518          		cnt = i;
    519          
    520          	}// end else if
    521          
    522          	else
    523          	{
    524          		// error_uart();
    525          
    526          	}// end else
    527          
    528          	return cnt;
    529          }
    530          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    531          static void packFrameToStell(uint8 *buff, DLLPacket_t emPacket)
   \                     packFrameToStell:
    532          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 8
   \   000005   74F8         MOV     A,#-0x8
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
    533            
    534            
    535            //uint32 da;
    536            
    537            int i = 0;
   \   00000E   7A00         MOV     R2,#0x0
   \   000010   7B00         MOV     R3,#0x0
    538            int j = 0;
   \   000012   8A..         MOV     ?V2,R2
   \   000014   8A..         MOV     ?V3,R2
    539            int k = 0;
    540            uint8 *pBuf = buff;
    541           
    542            uint32 pom = emPacket.appData.data;
   \   000016   741B         MOV     A,#0x1b
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   78..         MOV     R0,#?V4
   \   00001D   12....       LCALL   ?L_MOV_X
    543            
    544            
    545            char dat[4] = {'0','0','0','0'};
   \   000020   90....       MOV     DPTR,#`?<Constant {48, 48, 48, 48}>`
   \   000023   7404         MOV     A,#0x4
   \   000025   12....       LCALL   ?XSTACK_DISP102_8
   \   000028   7404         MOV     A,#0x4
   \   00002A   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
    546            char daaat[4] = {'0','0','0','0'};
   \   00002D   90....       MOV     DPTR,#`?<Constant {48, 48, 48, 48}>_1`
   \   000030   AC..         MOV     R4,?XSP + 0
   \   000032   AD..         MOV     R5,?XSP + 1
   \   000034   7404         MOV     A,#0x4
   \   000036   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   \   000039   8024         SJMP    ??packFrameToStell_0
    547           // char *id; //= dat;
    548            
    549           
    550              while(pom)
    551              {
    552                dat[i] = (pom % 16) + '0';
   \                     ??packFrameToStell_1:
   \   00003B   85....       MOV     ?V0,?V4
   \   00003E   E5..         MOV     A,?V0
   \   000040   540F         ANL     A,#0xf
   \   000042   2430         ADD     A,#0x30
   \   000044   C0E0         PUSH    A
   \   000046   7404         MOV     A,#0x4
   \   000048   12....       LCALL   ?XSTACK_DISP0_8
   \   00004B   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   00004E   D0E0         POP     A
   \   000050   F0           MOVX    @DPTR,A
    553                pom/=256;
   \   000051   E4           CLR     A
   \   000052   C5..         XCH     A,?V7
   \   000054   C5..         XCH     A,?V6
   \   000056   C5..         XCH     A,?V5
   \   000058   F5..         MOV     ?V4,A
    554                i++;
   \   00005A   0A           INC     R2
   \   00005B   EA           MOV     A,R2
   \   00005C   7001         JNZ     ??packFrameToStell_0
   \   00005E   0B           INC     R3
    555              }
   \                     ??packFrameToStell_0:
   \   00005F   E5..         MOV     A,?V4
   \   000061   45..         ORL     A,?V5
   \   000063   45..         ORL     A,?V6
   \   000065   45..         ORL     A,?V7
   \   000067   70D2         JNZ     ??packFrameToStell_1
    556            
    557              k = 4 - i;
   \   000069   7404         MOV     A,#0x4
   \   00006B   C3           CLR     C
   \   00006C   9A           SUBB    A,R2
   \   00006D   F8           MOV     R0,A
   \   00006E   E4           CLR     A
   \   00006F   9B           SUBB    A,R3
   \   000070   F9           MOV     R1,A
    558              for(j = 0; j < k; j++)
   \   000071   E8           MOV     A,R0
   \   000072   FA           MOV     R2,A
   \   000073   E9           MOV     A,R1
   \   000074   FB           MOV     R3,A
   \   000075   C3           CLR     C
   \   000076   E8           MOV     A,R0
   \   000077   9401         SUBB    A,#0x1
   \   000079   E9           MOV     A,R1
   \   00007A   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   00007D   401A         JC      ??packFrameToStell_2
    559              {
    560                daaat[j] = '0';
   \   00007F   7C30         MOV     R4,#0x30
   \   000081   85..82       MOV     DPL,?XSP + 0
   \   000084   85..83       MOV     DPH,?XSP + 1
   \                     ??packFrameToStell_3:
   \   000087   EC           MOV     A,R4
   \   000088   F0           MOVX    @DPTR,A
   \   000089   A3           INC     DPTR
   \   00008A   EA           MOV     A,R2
   \   00008B   24FF         ADD     A,#-0x1
   \   00008D   1A           DEC     R2
   \   00008E   EB           MOV     A,R3
   \   00008F   34FF         ADDC    A,#-0x1
   \   000091   FB           MOV     R3,A
   \   000092   4A           ORL     A,R2
   \   000093   70F2         JNZ     ??packFrameToStell_3
    561                
    562              }
   \   000095   8A..         MOV     ?V2,R2
   \   000097   8B..         MOV     ?V3,R3
    563              i = 0;
   \                     ??packFrameToStell_2:
   \   000099   7A00         MOV     R2,#0x0
   \   00009B   7B00         MOV     R3,#0x0
   \   00009D   802F         SJMP    ??packFrameToStell_4
    564              for(; j < 4; j++)
    565              {   
    566                daaat[k] = dat[i];
   \                     ??packFrameToStell_5:
   \   00009F   7404         MOV     A,#0x4
   \   0000A1   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A4   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   0000A7   C0E0         PUSH    A
   \   0000A9   85..82       MOV     DPL,?XSP + 0
   \   0000AC   85..83       MOV     DPH,?XSP + 1
   \   0000AF   E582         MOV     A,DPL
   \   0000B1   28           ADD     A,R0
   \   0000B2   F582         MOV     DPL,A
   \   0000B4   E583         MOV     A,DPH
   \   0000B6   39           ADDC    A,R1
   \   0000B7   F583         MOV     DPH,A
   \   0000B9   D0E0         POP     A
   \   0000BB   F0           MOVX    @DPTR,A
    567                k++;
   \   0000BC   08           INC     R0
   \   0000BD   E8           MOV     A,R0
   \   0000BE   7001         JNZ     ??packFrameToStell_6
   \   0000C0   09           INC     R1
    568                i++;
   \                     ??packFrameToStell_6:
   \   0000C1   0A           INC     R2
   \   0000C2   EA           MOV     A,R2
   \   0000C3   7001         JNZ     ??packFrameToStell_7
   \   0000C5   0B           INC     R3
    569                
    570              }
   \                     ??packFrameToStell_7:
   \   0000C6   05..         INC     ?V2
   \   0000C8   E5..         MOV     A,?V2
   \   0000CA   7002         JNZ     ??packFrameToStell_4
   \   0000CC   05..         INC     ?V3
   \                     ??packFrameToStell_4:
   \   0000CE   C3           CLR     C
   \   0000CF   E5..         MOV     A,?V2
   \   0000D1   9404         SUBB    A,#0x4
   \   0000D3   E5..         MOV     A,?V3
   \   0000D5   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   0000D8   40C5         JC      ??packFrameToStell_5
    571           
    572                //uint8 len = 1 + 1 + 4 + 1 + 1;
    573            *pBuf++ = 0x3E;
   \   0000DA   8E82         MOV     DPL,R6
   \   0000DC   8F83         MOV     DPH,R7
   \   0000DE   743E         MOV     A,#0x3e
   \   0000E0   F0           MOVX    @DPTR,A
    574            
    575            *pBuf++ = 0x23;
   \   0000E1   A3           INC     DPTR
   \   0000E2   7423         MOV     A,#0x23
   \   0000E4   F0           MOVX    @DPTR,A
    576            
    577            
    578            *pBuf++ = getSignalID(emPacket.appData.devID) + 0x30;
   \   0000E5   EE           MOV     A,R6
   \   0000E6   2402         ADD     A,#0x2
   \   0000E8   F8           MOV     R0,A
   \   0000E9   E4           CLR     A
   \   0000EA   3F           ADDC    A,R7
   \   0000EB   F9           MOV     R1,A
   \   0000EC   E8           MOV     A,R0
   \   0000ED   FC           MOV     R4,A
   \   0000EE   E9           MOV     A,R1
   \   0000EF   FD           MOV     R5,A
   \   0000F0   8C82         MOV     DPL,R4
   \   0000F2   8D83         MOV     DPH,R5
   \   0000F4   A3           INC     DPTR
   \   0000F5   A882         MOV     R0,DPL
   \   0000F7   A983         MOV     R1,DPH
   \   0000F9   7418         MOV     A,#0x18
   \   0000FB   12....       LCALL   ?XSTACK_DISP0_8
   \   0000FE   E0           MOVX    A,@DPTR
   \   0000FF   F5..         MOV     ?V0,A
   \   000101   A3           INC     DPTR
   \   000102   E0           MOVX    A,@DPTR
   \   000103   F5..         MOV     ?V1,A
   \   000105   7FFF         MOV     R7,#-0x1
   \   000107   7E00         MOV     R6,#0x0
   \                     ??packFrameToStell_8:
   \   000109   EE           MOV     A,R6
   \   00010A   25E0         ADD     A,0xE0 /* A   */
   \   00010C   FA           MOV     R2,A
   \   00010D   E4           CLR     A
   \   00010E   33           RLC     A
   \   00010F   FB           MOV     R3,A
   \   000110   74..         MOV     A,#signalID & 0xff
   \   000112   2A           ADD     A,R2
   \   000113   F582         MOV     DPL,A
   \   000115   74..         MOV     A,#(signalID >> 8) & 0xff
   \   000117   3B           ADDC    A,R3
   \   000118   F583         MOV     DPH,A
   \   00011A   E0           MOVX    A,@DPTR
   \   00011B   65..         XRL     A,?V0
   \   00011D   7004         JNZ     ??packFrameToStell_9
   \   00011F   A3           INC     DPTR
   \   000120   E0           MOVX    A,@DPTR
   \   000121   65..         XRL     A,?V1
   \                     ??packFrameToStell_9:
   \   000123   7002         JNZ     ??packFrameToStell_10
   \   000125   EE           MOV     A,R6
   \   000126   FF           MOV     R7,A
   \                     ??packFrameToStell_10:
   \   000127   7402         MOV     A,#0x2
   \   000129   2E           ADD     A,R6
   \   00012A   FE           MOV     R6,A
   \   00012B   C3           CLR     C
   \   00012C   9412         SUBB    A,#0x12
   \   00012E   40D9         JC      ??packFrameToStell_8
   \   000130   7430         MOV     A,#0x30
   \   000132   2F           ADD     A,R7
   \   000133   8C82         MOV     DPL,R4
   \   000135   8D83         MOV     DPH,R5
   \   000137   F0           MOVX    @DPTR,A
    579            
    580            *pBuf++ = 0x2C;
   \   000138   8882         MOV     DPL,R0
   \   00013A   8983         MOV     DPH,R1
   \   00013C   742C         MOV     A,#0x2c
   \   00013E   F0           MOVX    @DPTR,A
    581            *pBuf++ = 0x23;
   \   00013F   A3           INC     DPTR
   \   000140   7423         MOV     A,#0x23
   \   000142   F0           MOVX    @DPTR,A
    582            
    583            
    584            *pBuf++ = emPacket.appData.packNum + 0x30;
   \   000143   741A         MOV     A,#0x1a
   \   000145   12....       LCALL   ?XSTACK_DISP0_8
   \   000148   12....       LCALL   ?Subroutine2 & 0xFFFF
    585            
    586            *pBuf++ = 0x2C;
    587            *pBuf++ = 0x23;
   \                     ??CrossCallReturnLabel_0:
   \   00014B   E8           MOV     A,R0
   \   00014C   2405         ADD     A,#0x5
   \   00014E   F8           MOV     R0,A
   \   00014F   5001         JNC     ??packFrameToStell_11
   \   000151   09           INC     R1
    588            
    589            
    590            for(i = 0; i < 4; i++)
   \                     ??packFrameToStell_11:
   \   000152   7A00         MOV     R2,#0x0
   \   000154   7B00         MOV     R3,#0x0
    591            {
    592              *pBuf++ =daaat[i] ;
   \                     ??packFrameToStell_12:
   \   000156   85..82       MOV     DPL,?XSP + 0
   \   000159   85..83       MOV     DPH,?XSP + 1
   \   00015C   12....       LCALL   ?Subroutine5 & 0xFFFF
    593               //uartSend(data[i]);//+'0');
    594              //HalLcdWriteString((char *)data[i], 0);
    595              //HalLcdWriteString("-----------Simic-----------", 0);
    596            }
   \                     ??CrossCallReturnLabel_8:
   \   00015F   8882         MOV     DPL,R0
   \   000161   8983         MOV     DPH,R1
   \   000163   F0           MOVX    @DPTR,A
   \   000164   A3           INC     DPTR
   \   000165   A882         MOV     R0,DPL
   \   000167   A983         MOV     R1,DPH
   \   000169   0A           INC     R2
   \   00016A   EA           MOV     A,R2
   \   00016B   7001         JNZ     ??packFrameToStell_13
   \   00016D   0B           INC     R3
   \                     ??packFrameToStell_13:
   \   00016E   C3           CLR     C
   \   00016F   9404         SUBB    A,#0x4
   \   000171   EB           MOV     A,R3
   \   000172   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   000175   40DF         JC      ??packFrameToStell_12
    597            
    598            *pBuf++ = 0x2C;
   \   000177   742C         MOV     A,#0x2c
   \   000179   F0           MOVX    @DPTR,A
    599            *pBuf++ = 0x23;
   \   00017A   A3           INC     DPTR
   \   00017B   7423         MOV     A,#0x23
   \   00017D   F0           MOVX    @DPTR,A
    600            
    601            
    602            *pBuf++ = emPacket.timeStamp + 0x30;  
   \   00017E   741F         MOV     A,#0x1f
   \   000180   12....       LCALL   ?XSTACK_DISP0_8
   \   000183   12....       LCALL   ?Subroutine2 & 0xFFFF
    603            
    604            *pBuf++ = 0x2C;
    605            *pBuf++ = 0x23;
    606            
    607            
    608            *pBuf++ = emPacket.checkSum + 0x30;
   \                     ??CrossCallReturnLabel_1:
   \   000186   7420         MOV     A,#0x20
   \   000188   12....       LCALL   ?XSTACK_DISP0_8
   \   00018B   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   00018E   A3           INC     DPTR
   \   00018F   A3           INC     DPTR
   \   000190   A3           INC     DPTR
   \   000191   12....       LCALL   ?Subroutine3 & 0xFFFF
    609            *pBuf++ = 0x3C;
   \                     ??CrossCallReturnLabel_2:
   \   000194   743C         MOV     A,#0x3c
   \   000196   12....       LCALL   ?Subroutine3 & 0xFFFF
    610            *pBuf++ = 0x00;
   \                     ??CrossCallReturnLabel_3:
   \   000199   A3           INC     DPTR
   \   00019A   E4           CLR     A
   \   00019B   F0           MOVX    @DPTR,A
    611            /*
    612            da = emPacket.appData.data;
    613            id = (char*)&da;
    614            id[4] = '\0';
    615            HalLcdWriteString("-----------------------------Paket----------------------",0);
    616            HalLcdWriteString(id,0);
    617            HalLcdWriteString("-----------------------------Paket----------------------",0);
    618            */
    619          } 
   \   00019C   7408         MOV     A,#0x8
   \   00019E   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A1   7F08         MOV     R7,#0x8
   \   0001A3   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000003   E0           MOVX    A,@DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   E582         MOV     A,DPL
   \   000002   2A           ADD     A,R2
   \   000003   F582         MOV     DPL,A
   \   000005   E583         MOV     A,DPH
   \   000007   3B           ADDC    A,R3
   \   000008   F583         MOV     DPH,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   9400         SUBB    A,#0x0
   \   000002   A2D2         MOV     C,0xD0 /* PSW */.2
   \   000004   65D0         XRL     A,PSW
   \   000006   33           RLC     A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   000003   A3           INC     DPTR
   \   000004   A3           INC     DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   000003   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   000006   742C         MOV     A,#0x2c
   \   000008   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   00000B   7423         MOV     A,#0x23
   \   00000D   F0           MOVX    @DPTR,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   2430         ADD     A,#0x30
   \   000003   8882         MOV     DPL,R0
   \   000005   8983         MOV     DPH,R1
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000003   A3           INC     DPTR
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8882         MOV     DPL,R0
   \   000003   8983         MOV     DPH,R1
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   22           RET
    620          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    621          void dllDataRequest(Data_t *aData)
   \                     dllDataRequest:
    622          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    623                  //char *id;
    624                  //uint16 idde;
    625                  //uint8 num;
    626                  //uint32 da;
    627                  /*
    628                  int iSignalID;
    629          	int iData;
    630          	int iPackNum;
    631          	int iTimeStamp;
    632          	int iCheckSum;
    633                  */
    634                  //uint8 *txBuffer;
    635                  //uint8 *txIndex;
    636                  //CircularBuffer_t *cTxBuffer;
    637                  
    638          	DLLPacket_t emPacket;
    639          	//emPacket.appData = *aData;
    640                  //emPacket.appData = aData;
    641                  
    642                  emPacket.appData.devID = aData->devID;
   \   00000A   8A82         MOV     DPL,R2
   \   00000C   8B83         MOV     DPH,R3
   \   00000E   E0           MOVX    A,@DPTR
   \   00000F   F8           MOV     R0,A
   \   000010   A3           INC     DPTR
   \   000011   E0           MOVX    A,@DPTR
   \   000012   F9           MOV     R1,A
   \   000013   85..82       MOV     DPL,?XSP + 0
   \   000016   85..83       MOV     DPH,?XSP + 1
   \   000019   E8           MOV     A,R0
   \   00001A   F0           MOVX    @DPTR,A
   \   00001B   A3           INC     DPTR
   \   00001C   E9           MOV     A,R1
   \   00001D   F0           MOVX    @DPTR,A
    643                  emPacket.appData.data = aData->data;
   \   00001E   8A82         MOV     DPL,R2
   \   000020   8B83         MOV     DPH,R3
   \   000022   A3           INC     DPTR
   \   000023   A3           INC     DPTR
   \   000024   A3           INC     DPTR
   \   000025   12....       LCALL   ?XLOAD_R4567
   \   000028   7403         MOV     A,#0x3
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   12....       LCALL   ?XSTORE_R4567
    644                  emPacket.appData.packNum = aData->packNum;
   \   000030   8A82         MOV     DPL,R2
   \   000032   8B83         MOV     DPH,R3
   \   000034   A3           INC     DPTR
   \   000035   A3           INC     DPTR
   \   000036   E0           MOVX    A,@DPTR
   \   000037   C0E0         PUSH    A
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   D0E0         POP     A
   \   000040   F0           MOVX    @DPTR,A
    645                  emPacket.timeStamp = 0;
   \   000041   7407         MOV     A,#0x7
   \   000043   12....       LCALL   ?XSTACK_DISP0_8
   \   000046   E4           CLR     A
   \   000047   F0           MOVX    @DPTR,A
    646          	emPacket.checkSum = checksum(&emPacket);
   \   000048   7A00         MOV     R2,#0x0
   \   00004A   A8..         MOV     R0,?XSP + 0
   \   00004C   A9..         MOV     R1,?XSP + 1
   \                     ??dllDataRequest_0:
   \   00004E   8882         MOV     DPL,R0
   \   000050   8983         MOV     DPH,R1
   \   000052   E0           MOVX    A,@DPTR
   \   000053   CA           XCH     A,R2
   \   000054   6A           XRL     A,R2
   \   000055   FA           MOV     R2,A
   \   000056   A3           INC     DPTR
   \   000057   A882         MOV     R0,DPL
   \   000059   A983         MOV     R1,DPH
   \   00005B   7408         MOV     A,#0x8
   \   00005D   12....       LCALL   ?XSTACK_DISP0_8
   \   000060   E582         MOV     A,DPL
   \   000062   68           XRL     A,R0
   \   000063   7003         JNZ     ??dllDataRequest_1
   \   000065   E583         MOV     A,DPH
   \   000067   69           XRL     A,R1
   \                     ??dllDataRequest_1:
   \   000068   70E4         JNZ     ??dllDataRequest_0
   \   00006A   EA           MOV     A,R2
   \   00006B   F0           MOVX    @DPTR,A
    647                  
    648                  //txBuffer = (uint8 *)uiTxBufferCC2530;
    649                  //cTxBuffer = &cTxBufferCC2530;
    650                  //txBuffer = (uint8 *)uiTxBufferCC2530;
    651                  //txIndex = &txBufferCC2530Index;
    652          	// ako bude bilo potrebe za slanjem vremenskog trenutka
    653          	// radi iscrtavanja grafa obezbjedicemo mehanizam, inace
    654          	// timeStamp = 0
    655          	/*
    656                  iSignalID = (int)getSignalID(emPacket.appData.devID);
    657          	iData = (int)emPacket.appData.data;
    658          	iPackNum = (int)emPacket.appData.packNum;
    659          	iTimeStamp = (int)emPacket.timeStamp;
    660          	iCheckSum = (int)emPacket.checkSum;
    661                  */
    662                  /*
    663                  iSignalID = (unsigned)getSignalID(emPacket.appData.devID);
    664          	iData = (unsigned)emPacket.appData.data;
    665          	iPackNum = (unsigned)emPacket.appData.packNum;
    666          	iTimeStamp = (unsigned)emPacket.timeStamp;
    667          	iCheckSum = (unsigned)emPacket.checkSum;
    668                  */
    669                  
    670          	 //HalLcdWriteString("Miso----------------------",0);
    671                  /*
    672                  txBufferCC2530Index = sprintf(uiTxBufferCC2530,
    673                                                ">#%d,#%c,#%l,#%c,#%c",
    674                                                getSignalID(emPacket.appData.devID),
    675                                                emPacket.appData.packNum,
    676                                                emPacket.appData.data,
    677                                                emPacket.timeStamp,
    678                                                emPacket.checkSum
    679                                                );
    680                  */
    681                  /*
    682                  txBufferCC2530Index = sprintf(uiTxBufferCC2530,
    683                                                ">#%d,#%d,#%d,#%d,#%d",
    684                                                iSignalID,
    685                                                iPackNum,
    686                                                iData,
    687                                                iTimeStamp,
    688                                                iCheckSum
    689                                                );
    690                  */
    691                  packFrameToStell((uint8 *)uiTxBufferCC2530, emPacket);
   \   00006C                ; Setup parameters for call to function packFrameToStell
   \   00006C   85..82       MOV     DPL,?XSP + 0
   \   00006F   85..83       MOV     DPH,?XSP + 1
   \   000072   7409         MOV     A,#0x9
   \   000074   12....       LCALL   ?PUSH_XSTACK8_X
   \   000077   7A..         MOV     R2,#uiTxBufferCC2530 & 0xff
   \   000079   7B..         MOV     R3,#(uiTxBufferCC2530 >> 8) & 0xff
   \   00007B   12....       LCALL   `??packFrameToStell::?relay`; Banked call to: packFrameToStell
   \   00007E   7409         MOV     A,#0x9
   \   000080   12....       LCALL   ?DEALLOC_XSTACK8
    692                  //array2circular(cTxBuffer, txBuffer, *txIndex);
    693                  
    694                  /*HalLcdWriteString("Velicina je:",0);
    695                  uartSend(sizeof(uint32)+'0');
    696                  HalLcdWriteString("",0);
    697                  HalLcdWriteString("Velicina je:",0);
    698                  */
    699                  //halUARTWrite(cTxBuffer, 0);
    700                  //HalLcdWriteString("Miso----------------------",0); 
    701                  
    702                 // halUARTWrite(port, cTxBuffer, 0);
    703                  
    704                   //HalLcdWriteString(uiTxBufferCC2530, 0);
    705                  
    706                  
    707                  HalUARTWrite(HAL_UART_PORT_1, (uint8 *)uiTxBufferCC2530, 1);
   \   000083                ; Setup parameters for call to function HalUARTWrite
   \   000083   7C01         MOV     R4,#0x1
   \   000085   7D00         MOV     R5,#0x0
   \   000087   7A..         MOV     R2,#uiTxBufferCC2530 & 0xff
   \   000089   7B..         MOV     R3,#(uiTxBufferCC2530 >> 8) & 0xff
   \   00008B   7901         MOV     R1,#0x1
   \   00008D   12....       LCALL   `??HalUARTWrite::?relay`; Banked call to: HalUARTWrite
    708                  
    709                  //HalLcdWriteString(uiTxBufferCC2530, 0);
    710                  
    711          	emFlagCC2530 = EMISSION_START;
   \   000090   90....       MOV     DPTR,#emFlagCC2530
   \   000093   7401         MOV     A,#0x1
   \   000095   F0           MOVX    @DPTR,A
    712          	
    713          	//idde = emPacket.appData.devID;//
    714                  
    715                  //idde = aData->devID;
    716                  
    717                  //idde = (uint16)getSignalID(emPacket.appData.devID);//+ 0x30;
    718                  
    719                  //idde = aData->devID;
    720                  //idde = aData.devID;
    721                  
    722                  //id = (char*)&emPacket.appData.data;
    723                  //id = (char*)&emPacket.appData.devID;
    724                  
    725                  //da = emPacket.appData.data;
    726                  
    727                  //num = emPacket.timeStamp + 0x30;
    728                 // num = emPacket.appData.packNum + 0x30;
    729                  //num = emPacket.checkSum + 0x30;
    730                  
    731                  //id = (char*)&idde;
    732                  //id = (char*)&da;
    733                  //id = (char*)&num;
    734                  
    735                  //id[0] += 0x30;
    736                  //id[1] += 0x30;
    737                  
    738                  //id[2] = '\0';
    739                  //id[1] = '\0';
    740                  //id[4] = '\0';
    741                  
    742                  //HalLcdWriteString("-----------------------------Borislav----------------------",0);
    743                  //HalLcdWriteString(id,0);
    744                  //uartSend(emPacket.checkSum+'0');
    745                  //HalLcdWriteString("", 0);
    746                  //HalLcdWriteString("-----------------------------Borislav----------------------",0);
    747          
    748          }
   \   000096   7409         MOV     A,#0x9
   \   000098   02....       LJMP    ?Subroutine1 & 0xFFFF

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??dllInit::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    dllInit

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??CallBackRegister::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    CallBackRegister

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??processFrameRx::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    processFrameRx

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??packFrameToStell::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    packFrameToStell

   \                                 In  segment BANK_RELAYS, align 1
   \                     `??dllDataRequest::?relay`:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    dllDataRequest

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%*[^0123456789]%d%*[^...">`:
   \   000000   252A5B5E     DB 25H, 2AH, 5BH, 5EH, 30H, 31H, 32H, 33H
   \            30313233
   \   000008   34353637     DB 34H, 35H, 36H, 37H, 38H, 39H, 5DH, 25H
   \            38395D25
   \   000010   64252A5B     DB 64H, 25H, 2AH, 5BH, 5EH, 30H, 31H, 32H
   \            5E303132
   \   000018   33343536     DB 33H, 34H, 35H, 36H, 37H, 38H, 39H, 5DH
   \            3738395D
   \   000020   2564252A     DB 25H, 64H, 25H, 2AH, 5BH, 5EH, 30H, 31H
   \            5B5E3031
   \   000028   32333435     DB 32H, 33H, 34H, 35H, 36H, 37H, 38H, 39H
   \            36373839
   \   000030   5D256425     DB 5DH, 25H, 64H, 25H, 2AH, 5BH, 5EH, 30H
   \            2A5B5E30
   \   000038   31323334     DB 31H, 32H, 33H, 34H, 35H, 36H, 37H, 38H
   \            35363738
   \   000040   395D2564     DB 39H, 5DH, 25H, 64H, 25H, 2AH, 5BH, 5EH
   \            252A5B5E
   \   000048   30313233     DB 30H, 31H, 32H, 33H, 34H, 35H, 36H, 37H
   \            34353637
   \   000050   38395D25     DB 38H, 39H, 5DH, 25H, 64H, 0
   \            6400    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {48, 48, 48, 48}>`:
   \   000000   30           DB 48
   \   000001   30           DB 48
   \   000002   30           DB 48
   \   000003   30           DB 48

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {48, 48, 48, 48}>_1`:
   \   000000   30           DB 48
   \   000001   30           DB 48
   \   000002   30           DB 48
   \   000003   30           DB 48

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      2      0   CallBackRegister
      1     28   dllDataRequest
        0     19   -> HalUARTWrite
        0     28   -> packFrameToStell
      2      0   dllInit
        2      0   -> circularInit
      1     52   packFrameToStell
      0     30   processFrameRx
        0     30   -> sscanf


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
      86  ?<Constant "%*[^0123456789]%d%*[^...">
       4  ?<Constant {48, 48, 48, 48}>
       4  ?<Constant {48, 48, 48, 48}>_1
       7  ?Subroutine0
       8  ?Subroutine1
      15  ?Subroutine2
       6  ?Subroutine3
       8  ?Subroutine4
       5  ?Subroutine5
       5  ?Subroutine6
      10  ?Subroutine7
      11  ?Subroutine8
       9  ?Subroutine9
      14  CallBackRegister
       6  CallBackRegister::?relay
     260  cTxBufferCC2530
       2  callBack
     155  dllDataRequest
       6  dllDataRequest::?relay
      24  dllInit
       6  dllInit::?relay
       1  emFlagCC2530
     422  packFrameToStell
       6  packFrameToStell::?relay
     216  processFrameRx
       6  processFrameRx::?relay
       9  recPack
     260  rxBufferCC2530
       1  rxBufferCC2530Index
     260  rxBufferPC
      18  signalID
       1  stateCC2530
       1  tmpCC2530
       1  txBufferCC2530Index
     256  uiRxBufferCC2530
     256  uiTxBufferCC2530

 
   915 bytes in segment BANKED_CODE
    30 bytes in segment BANK_RELAYS
   112 bytes in segment XDATA_ROM_C
 1 308 bytes in segment XDATA_Z
 
    30 bytes of CODE     memory
   112 bytes of CONST    memory
   915 bytes of HUGECODE memory
 1 308 bytes of XDATA    memory

Errors: none
Warnings: none
